"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1583,7062],{14662:(e,t,n)=>{n.d(t,{EU:()=>r,Jo:()=>l,rH:()=>o});var i=n(48060);let o=e=>e?.mode.isReadOnly()||!e?.getContent(),r=(e,t)=>{let n=e.editorContainer?.querySelector(".tox-editor-header");n instanceof HTMLDivElement&&n.addEventListener("click",()=>{n.removeAttribute("title"),e.mode.set("design"),t()},i.w3),e.mode.set("readonly")},a=new Set(["wikipedia.org","archive.org"]),l=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),[,n,i]=t.split(".");return a.has(`${n}.${i}`)||a.has(t)}catch{return!1}}},47062:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i=n(74848);let o=n(33540).Ay.div.withConfig({componentId:"sc-8cefad93-0"})(['height:100%;[role="application"]{border-radius:0;height:100% !important;button[aria-disabled="true"]{pointer-events:none;svg{fill:rgb(255,255,255,50%);}}.tox-statusbar{font-size:12px;}&[aria-disabled="true"]{.tox-editor-header{height:0;margin-top:-1px;overflow:hidden;padding:0;position:relative;visibility:hidden;&::after{bottom:0;color:rgb(200,200,200);content:"Edit Document";cursor:pointer;display:flex;font-size:12px;font-weight:600;height:24px;left:0;padding:0 10px;padding-bottom:2px;place-content:center;place-items:center;position:fixed;transform:translateZ(0);visibility:visible;width:auto;z-index:1;}&:hover::after{background-color:rgba(255,255,255,15%);}.tox-toolbar-overlord{display:none;}}.tox-statusbar__path-item{display:none;}}iframe{background-color:#202124;}}']);var r=n(16286),a=n(96540),l=n(48060);let s={base_url:"/Program Files/TinyMCE/",branding:!1,contextmenu:"",draggable_modal:!0,help_accessibility:!1,image_advtab:!0,plugins:`
  code help image link save wordcount`,promotion:!1,suffix:".min",toolbar:`
  save undo redo | formatselect | bold italic underline | forecolor backcolor |
  alignleft aligncenter alignright | outdent indent | code help`},d=`${l.Bn}/New Rich Text Document.whtml`;var c=n(14662),u=n(91745),m=n(8218),f=n(55650),p=n(25559),w=n(99204),g=n(45694),h=n(37e3),b=n(22951),y=n(48287).Buffer;let v=({containerRef:e,id:t,setLoading:i,url:o})=>{let{processes:{[t]:{libs:v=[]}={}}={},url:x}=(0,w.N)(),[E,$]=(0,a.useState)(),{prependFileToTitle:C}=(0,f.A)(t),{readFile:k,stat:A,updateFolder:L,writeFile:T}=(0,p.f)(),{onDragOver:D,onDrop:W}=(0,m.A)({id:t}),{setForegroundId:_}=(0,g.w)(),H=(0,a.useCallback)(async e=>{let t=new Date((0,u.nR)(e,await A(e))),n=new Intl.DateTimeFormat(l.Xn,{dateStyle:"medium"}).format(t);C(`${(0,r.basename)(e,(0,r.extname)(e))} (${n})`)},[C,A]),R=(0,b.U)(),S=(0,a.useCallback)(()=>{let t=e.current?.querySelector("iframe");t?.contentWindow&&[...t.contentWindow.document.links].forEach(e=>e.addEventListener("click",t=>{E?.mode.isReadOnly()&&R(t,e.dataset.mceHref||"",e.pathname,e.textContent||"")}))},[e,E?.mode,R]),U=(0,a.useCallback)(async()=>{if(E){let e=()=>{E.options.set("save_onsavecallback",async()=>{let e={closeButton:!0,text:"Successfully saved.",timeout:5e3,type:"success"},t=o||d;try{await T(".rtf"===(0,h.uQ)(t)?t.replace(".rtf",".whtml"):t,E.getContent(),!0),L((0,r.dirname)(t),(0,r.basename)(t)),H(t)}catch{e.text="Error occurred while saving.",e.type="error"}E.notificationManager.open(e);let n=E.notificationManager.getNotifications()?.[0]?.getEl()?.parentElement,i=E.editorContainer;n instanceof HTMLElement&&i instanceof HTMLElement&&(i.append(n),n.setAttribute("style","position: absolute; right: 0; bottom: 0; padding: 33px 25px;"),n.querySelector("[role=alert]")?.setAttribute("style","opacity: 1;")),t===d&&H(t)})},t=o?await k(o):y.from("");if(0===t.length)E.mode.set("design"),e();else{if((0,c.EU)(E,e),".rtf"===(0,h.uQ)(o)){let{RTFJS:e}=await Promise.all([n.e(1194,"high"),n.e(2e3,"high")]).then(n.bind(n,32e3)),i=new e.Document(t),o=await i.render();E.setContent(o.map(e=>e.outerHTML).join(""))}else E.setContent(t.toString());S(),E.iframeElement?.contentDocument&&(E.iframeElement.contentDocument.documentElement.scrollTop=0)}o&&H(o)}},[E,S,k,L,H,o,T]),j=(0,a.useRef)(!1);(0,a.useEffect)(()=>{E||j.current||(j.current=!0,(0,h.aY)(v).then(()=>{window.tinymce&&e.current&&window.tinymce.init({readonly:!!o,selector:`.${[...e.current.classList].join(".")} div[id="${t}"]`,setup:e=>{e.on("ExecCommand",({command:e})=>{"mceNewDocument"===e&&(x(t,""),C(""))})},...s}).then(([n])=>{let o=e.current?.querySelector("iframe");o?.contentWindow&&(o.contentWindow.addEventListener("dragover",e=>{(0,c.rH)(n)&&D(e)}),o.contentWindow.addEventListener("drop",e=>{(0,c.rH)(n)&&W(e)}),o.contentWindow.addEventListener("blur",()=>_(e=>e===t?"":e)),o.contentWindow.addEventListener("focus",()=>_(t)),o.contentWindow.addEventListener("mousedown",({pageX:e})=>o.contentWindow&&e>o.contentWindow.innerWidth-l.Gm&&_(t))),$(n),i(!1)})}))},[e,E,t,v,D,W,C,_,i,x,o]),(0,a.useEffect)(()=>{E&&U()},[E,U]),(0,a.useEffect)(()=>()=>{window.setTimeout(()=>E?.destroy(),0)},[E])};var x=n(14153);let E=({id:e})=>(0,i.jsx)(x.A,{StyledComponent:o,id:e,useHook:v,children:(0,i.jsx)("div",{id:e})})},14153:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(74848),o=n(96540),r=n(33540),a=n(51583),l=n(8218),s=n(99204);let d=r.Ay.div.withConfig({componentId:"sc-5da8521e-0"})([""]),c=(0,o.memo)(({id:e,useHook:t,StyledComponent:n,children:r})=>{let{processes:{[e]:{url:c=""}={}}}=(0,s.N)(),u=(0,o.useRef)(null),[m,f]=(0,o.useState)(!0),p=(0,o.useMemo)(()=>({contain:"strict",visibility:m?"hidden":"visible"}),[m]);return t({containerRef:u,id:e,loading:m,setLoading:f,url:c}),(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)(a.default,{}),(0,i.jsx)(n||d,{ref:u,style:p,...(0,l.A)({id:e}),children:r})]})})},51583:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});let i=n(33540).Ay.div.withConfig({componentId:"sc-29e5eb62-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}'])},8218:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(16286),o=n(96540),r=n(51780),a=n(16091),l=n(13296),s=n(25559),d=n(99204),c=n(45694),u=n(48060),m=n(37e3),f=n(63461);let p=({callback:e,directory:t=u.Bn,id:n,onDragLeave:p,onDragOver:w,updatePositions:g})=>{let{url:h}=(0,d.N)(),b=(0,f.w)(),{iconPositions:y,sortOrders:v,setIconPositions:x}=(0,c.w)(),{exists:E,mkdirRecursive:$,updateFolder:C,writeFile:k}=(0,s.f)(),A=(0,o.useCallback)(async(e,t,o)=>{if(n){if(t){let r=(0,i.join)(u.Bn,e);if(await $(u.Bn),await k(r,t,!0))return o===l.z.UPDATE_URL&&h(n,r),C(u.Bn,e),(0,i.basename)(r)}else o===l.z.UPDATE_URL&&h(n,e)}return""},[n,$,C,h,k]),{openTransferDialog:L}=(0,r.A)();return{onDragLeave:p,onDragOver:(0,o.useCallback)(e=>{w?.(e),(0,m.CH)(e)},[w]),onDrop:(0,o.useCallback)(o=>{if(u.jj.has((0,m.uQ)(t)))return;if(g&&o.target instanceof HTMLElement){let{files:e,text:n}=(0,a.bn)(o);if(0===e.length&&""===n)return;(async()=>{let r={x:o.clientX,y:o.clientY},a=[];if(n){try{a=JSON.parse(n)}catch{}if(!Array.isArray(a))return;let[e]=a;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;a=a.map(e=>(0,i.basename)(e))}else e instanceof FileList?a=[...e].map(e=>e.name):a=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);a=await Promise.all(a.map(async e=>{let n=`${t}/${e}`;if(!y[n]||!await E(n))return e;let o=0;do o+=1,n=`${t}/${(0,i.basename)(e,(0,i.extname)(e))} (${o})${(0,i.extname)(e)}`;while(y[n]&&await E(n));return(0,i.basename)(n)})),(0,m.$Y)(t,o.target,y,v,r,a,x,E)})()}let r="string"==typeof n;r&&!g&&t===u.Bn&&b.current[n]?.componentWindow?.focus(u.VD),(0,a.nX)(o,e||A,t,L,r)},[e,t,E,y,n,L,b,x,v,g,A])}}},55650:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(96540),o=n(99204),r=n(25573),a=n(48060);let l=e=>{let{title:t}=(0,o.N)(),[n]=e.split(a.QB),{title:l}=r.A[n]||{};return{appendFileToTitle:(0,i.useCallback)((n,i)=>{let o=n?` - ${n}${i?` ${a.g6}`:""}`:"";t(e,`${l}${o}`)},[e,l,t]),prependFileToTitle:(0,i.useCallback)((n,i,o)=>{let r=n?`${i?`${a.g6} `:""}${n}${o?" ":" - "}`:"";t(e,`${r}${l}`)},[e,l,t])}}},22951:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(16286),o=n(96540),r=n(14662),a=n(91745),l=n(99204),s=n(37e3),d=n(45694);let c=()=>{let{open:e}=(0,l.N)(),{updateRecentFiles:t}=(0,d.w)();return(0,o.useCallback)((n,o,l,d)=>{if((0,s.CH)(n),(0,s.t$)(o))e("VideoPlayer",{url:o});else if((0,r.Jo)(o))e("Browser",{initialTitle:d,url:o});else if(l&&""!==(0,i.relative)(decodeURI((o.startsWith("/")?o:`/${o}`).replace(window.location.origin,"")),decodeURI(l)))window.open(o,"_blank","noopener, noreferrer");else{let n=(0,a.YD)((0,s.uQ)(l));if(n){let i=decodeURI(l);e(n,{url:i}),i&&t(i,n)}}},[e,t])}}}]);