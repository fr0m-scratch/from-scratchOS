"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5160,9588],{59588:(e,t,i)=>{i.d(t,{UNKNOWN_ICON:()=>r});let r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB0ElEQVR42u2ZVWLbQBiEp/K6DOpb+LF4ip47oCuULpAYH3uAlcbMNOZpm0lsizWz+/3CgEc9aiuFHz9/YYVIcjAAkODcYYDoTyPQHZse7m0E49tLkid/8rz4BuD7RgFIYpW+fvmMXStJEvz+/RuvXr1KG41mVhT5RiECRMUYsUuF0Nv18+fPcXp6ktbrjSzPhRBCDxxUpVKpG+Ls7DSt1eprhwjYWwAdJQD9EGftELV2iCiHCAQMAvT04sVznJ+fpdVqNcuj1hOBJj0wCvECFxcXaeWhIuEUYFADAGZCXF5dpg/3DxmA99YIZVmGRXr58lVqi1CMER8+fOh+pkUS5XIZd7d3ylEIViI5M7wCITqa1wOAtDVPKD1A45andC1ES/N6DZCuzKsIWZr3RoikMK4jZGleD2BsntDOA74tT0gIOZrXEfJmXiti24KleBi1M09SThBIU/P6mZiW5qEXMW3NUzuMGrc8NYRssSE0hFyZVxFyLVgdIcOW51oIWZqHfj9ga15+rOLb8lIRg47m9RoQ/R+eeb0GaGleR8i15XWEqL5VFIIJ87V5u70nvrm+AUF0/8nx4ZlxgOj+9KeTk+Oz8/rrYnIYBAoWeNSj9qwWS/T9vUU9j2EAAAAASUVORK5CYII="},57203:(e,t,i)=>{i.d(t,{Oc:()=>s,aJ:()=>c,aN:()=>p,j9:()=>d,jj:()=>a,pg:()=>l});var r=i(74848),o=i(96540),n=i(33540);let s=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),l=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),a=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),c=(0,o.memo)(()=>{let{colors:e}=(0,n.DP)();return(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),p=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),d=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},68443:(e,t,i)=>{i.d(t,{$A:()=>c,V0:()=>a,cK:()=>l});var r=i(16286),o=i(91745),n=i(48060),s=i(37e3);let l=async(e,t,i)=>{if(!e)return;let{subIcons:l,icon:a,pid:c=n.hr[0],url:p}=await new Promise(i=>{e.lstat(t,(r,n)=>{let l=!r&&!!n&&n.isDirectory(),a=(0,s.uQ)(t);a&&!l?(0,o.O6)(e,t,a,e=>i(e)):(0,o.qz)(e,e.getRootFS(),t,l,!1,e=>i(e),!1)})});if(i?.aborted)return;let d=(0,s.t$)(p);return{icon:await (0,o.$j)(e,(0,r.join)(d?n.zP:n.jv,`${d?new URL(p).pathname.replace("/",""):p}${n.V9}`))||a,pid:c,subIcons:l?.includes(n.N9)?l:[],url:p||t}},a=(e,t)=>{let i=0===e.value.length,r=()=>{Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")?.set?.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};r(),requestAnimationFrame(()=>i&&1===t.length&&2===e.value.length&&r())},c=(e,t,i,r,n)=>n?"Nostr URI":r?"App":i?"YouTube Video":e?.isDirectory()||!t?"File folder":(0,o.ti)(t)},75160:(e,t,i)=>{i.r(t),i.d(t,{NO_RESULTS:()=>Y,SINGLE_LINE_HEIGHT_ADDITION:()=>X,default:()=>Z});var r=i(74848),o=i(16286),n=i(33540),s=i(96540),l=i(64045),a=i(16093),c=i(91745),p=i(57203),d=i(59588),h=i(80052),x=i(48060);let g=(0,n.AH)(["@supports not selector(::-webkit-scrollbar){scrollbar-width:thin;}&::-webkit-scrollbar{width:","px;}"],x.a_);var u=i(43680);let f=n.Ay.div.withConfig({componentId:"sc-26b1ada-0"})([""," "," background-color:rgba(20,20,20,95%);border:8px solid rgba(30,30,30,95%);border-bottom:none;box-sizing:content-box;display:flex;flex-direction:column;overflow-x:hidden;padding-top:20px;place-items:center;position:relative;scrollbar-gutter:auto;width:100%;picture{padding-bottom:18px;&:not(:first-of-type){position:absolute;img{height:64px;max-height:64px;max-width:64px;min-height:64px;min-width:64px;position:relative;width:64px;}}}h1{font-size:15px;font-weight:400;overflow-wrap:anywhere;padding-bottom:7px;padding-left:12px;padding-right:12px;text-align:center;@supports not (overflow-wrap:anywhere){word-break:break-word;}&:hover{text-decoration:underline;}}h2{font-size:13px;font-weight:300;}table{border-collapse:collapse;border-top:2px solid rgb(161,161,161);display:grid;font-size:12px;gap:10px;margin-top:15px;padding:15px 0;padding-bottom:0;width:100%;th{max-width:100px;min-width:100px;padding:10px;text-align:left;white-space:nowrap;width:100px;}td{color:rgb(208,208,208);padding-right:5px;word-break:break-all;}tr:first-child{td{text-decoration:underline;&:hover{color:#fff;}}}}ol{border-top:2px solid rgb(161,161,161);margin-bottom:7px;margin-top:15px;padding:10px 0;width:100%;li{button{color:#fff;display:flex;font-size:12px;padding:8px 18px;place-items:start;svg{fill:#fff;height:16px;margin-right:12px;width:16px;}}&:hover{background-color:rgb(42,42,42);}}}.back{border-radius:50%;display:flex;height:32px;left:6px;place-content:center;place-items:center;position:absolute;top:6px;width:32px;svg{fill:#fff;height:18px;margin-right:2px;transform:scaleX(-1);width:18px;}&:hover{background-color:rgba(255,255,255,20%);}}"],(0,u.A)(x.a_,-2,-1),g);var m=i(68443),w=i(25559),v=i(45694),b=i(87952),j=i(31251),A=i(37e3),z=i(39971);let y=({openApp:e,setActiveItem:t,singleLineView:i,url:n})=>{let{fs:l,stat:a}=(0,w.f)(),[p,g]=(0,s.useState)(),[u,y]=(0,s.useState)({icon:d.UNKNOWN_ICON}),S=(0,o.extname)(u?.url||n),{updateRecentFiles:k}=(0,v.w)(),C=(0,s.useCallback)(()=>{e(u?.pid,{url:u?.url}),u?.url&&u?.pid&&k(u?.url,u?.pid)},[u?.pid,u?.url,e,k]),I=(0,s.useRef)(null),V=!!u?.url&&(0,A.t$)(u.url),H=!!u?.url&&u.url.startsWith("nostr:"),E=!!u?.pid&&n===u.url&&(0,o.extname)(n)===x.b3,N=p?.isDirectory()||!S&&!V&&!H,O=V||H?n:u?.url,T=(0,s.useRef)(n),M="/"===O?x.l6:O?(0,o.basename)(O,x.b3):"";return(0,s.useEffect)(()=>{a(n).then(e=>T.current===n&&g(e)),(0,m.cK)(l,n).then(e=>e&&T.current===n&&y(e))},[l,a,n]),(0,s.useEffect)(()=>{I.current?.scrollTo({behavior:"smooth",top:0}),T.current=n},[n]),u?.url&&p?(0,r.jsxs)(f,{ref:I,children:[i&&(0,r.jsx)("div",{className:"back",onClick:()=>t(""),children:(0,r.jsx)(h.UU,{})}),(0,r.jsx)(j.A,{displaySize:64,imgSize:96,src:u?.icon}),(0,r.jsx)(z.A,{alt:M,icon:u?.icon,imgSize:64,showShortcutIcon:!1,subIcons:u?.subIcons,view:"icon"}),(0,r.jsx)("h1",{onClick:C,children:M}),(0,r.jsx)("h2",{children:(0,m.$A)(p,S,V,E,H)}),!E&&u?.url&&(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Location"}),(0,r.jsx)("td",{onClick:C,children:u.url})]}),!V&&!H&&!N&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Last modified"}),(0,r.jsx)("td",{children:new Date((0,c.nR)(u.url,p)).toLocaleString(x.Xn)})]})]})}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,r.jsxs)(b.A,{onClick:C,children:[(0,r.jsx)(h.v5,{}),"Open"]})}),"."!==(0,o.dirname)(O)&&(0,r.jsx)("li",{children:(0,r.jsxs)(b.A,{onClick:()=>e("FileExplorer",{url:(0,o.dirname)(O)}),children:[(0,r.jsx)(h.BG,{}),"Open ",N?"folder":"file"," location"]})})]})]}):(0,r.jsx)(r.Fragment,{children:" "})};var S=i(78744),k=i(99204);let C=e=>{let{contextMenu:t}=(0,S.b)(),{open:i}=(0,k.N)();return(0,s.useMemo)(()=>t?.(()=>[{SvgIcon:h.BG,action:()=>i("FileExplorer",{url:o.dirname(e)},""),label:"Open file location"}]),[t,i,e])};var I=i(17261);let V={icon:d.UNKNOWN_ICON},H=({active:e,details:t,openApp:i,searchTerm:n,setActiveItem:l,url:a})=>{let{fs:p,readFile:d,stat:g}=(0,w.f)(),{updateRecentFiles:u}=(0,v.w)(),[f,b]=(0,s.useState)(),[y,S]=(0,s.useState)(V),k=(0,o.extname)(y?.url||a),H=(0,o.basename)(a,x.b3),E=(0,s.useMemo)(()=>{let e=H;try{e=e.replace(RegExp(`(${n})`,"i"),"<span>$1</span>")}catch{}return e},[H,n]),N=!!y?.url&&(0,A.t$)(y.url),O=N?a:a||y?.url,T=(0,s.useMemo)(()=>f&&!f.isDirectory()?`Last modified: ${new Date((0,c.nR)(O,f)).toLocaleString(x.Xn,{dateStyle:"short",timeStyle:"short"})}`:"",[O,f]),[M,$]=(0,s.useState)(!1),D=(0,s.useRef)(null),R=(0,I.K)(D,".list"),B=!!y?.pid&&a===y.url&&(0,o.extname)(a)===x.b3,L=f?.isDirectory()||!k&&!N,P=!!y?.url&&y.url.startsWith("nostr:"),{onContextMenuCapture:_}=C(y?.url),U=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{let e=t||M;!f&&e&&g(a).then(b),U.current?R||(U.current.abort(),U.current=void 0):(e||R)&&y===V&&(U.current=new AbortController,(0,m.cK)(p,a,U.current.signal).then(e=>{e&&S(e),U.current=void 0}))},[t,p,M,y,R,g,f,a]),(0,s.useEffect)(()=>()=>{try{U.current?.abort()}catch{}},[]),(0,r.jsxs)("li",{ref:D,"aria-label":H,className:e?"active-item":void 0,onMouseOver:()=>!t&&$(!0),title:T?`${O}

${T}`:O,children:[(0,r.jsxs)("figure",{className:t?void 0:"simple",onClick:async()=>{i(y?.pid,B?void 0:{url:(0,o.extname)(O)===x.b3&&c.DB(await d(O))?.url||O}),O&&y?.pid&&u(O,y?.pid)},onContextMenuCapture:N||P||B||L?void 0:_,children:[(0,r.jsx)(j.A,{displaySize:t?32:16,imgSize:t?32:16,src:y?.icon}),(0,r.jsx)(z.A,{alt:E,icon:y?.icon,imgSize:t?32:16,showShortcutIcon:!1,subIcons:y?.subIcons,view:"icon"}),(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("h1",{dangerouslySetInnerHTML:{__html:E}}),t&&f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:(0,m.$A)(f,k,N,B,P)}),!N&&!B&&!L&&(0,r.jsx)("h2",{children:T})]})]})]}),!e&&(0,r.jsx)("div",{className:"select",onClick:()=>l(a),children:(0,r.jsx)(h.UU,{})})]})},E=n.Ay.figcaption.withConfig({componentId:"sc-4226e485-0"})(["font-size:13px;font-weight:600;padding-bottom:8px;padding-left:12px;padding-top:7px;&.disabled{pointer-events:none;user-select:none;}&:hover{background-color:rgba(60,60,60,95%);}"]),N=({activeTab:e,activeItem:t,details:i,openApp:o,results:n,searchTerm:l,setActiveItem:c,changeTab:p,title:d})=>{let h=(0,s.useMemo)(()=>1===n.length&&n[0].ref===Y,[n]);return 0===n.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("figure",{children:[(0,r.jsx)(E,{className:e===d||"Best match"===d?"disabled":void 0,onClick:()=>p?.(d),children:d}),(0,r.jsx)("ol",{children:h?(0,r.jsxs)("li",{className:"no-results",children:[(0,r.jsx)(a.Search,{}),"No results found for '",l,"'"]}):n.map(({ref:e})=>(0,r.jsx)(H,{active:t===e,details:i,openApp:o,searchTerm:l,setActiveItem:c,url:e},e))})]})},O=n.Ay.figure.withConfig({componentId:"sc-2addad56-0"})(["ol{display:flex;flex-flow:row wrap;gap:5px;max-height:97px;overflow-y:hidden;padding-top:9px;li{background-color:rgba(60,60,60,85%);border:1px solid rgba(75,75,75,85%);border-radius:15px;display:flex;padding:4px 10px;place-content:center;place-items:center;white-space:nowrap;h2{bottom:1px;display:block;font-size:12px;font-weight:400;height:16px;max-width:235px;overflow:hidden;padding-top:1px;place-items:center;position:relative;text-overflow:ellipsis;}picture,img{height:16px;margin-right:5px;width:16px;}&:hover{background-color:rgba(80,80,80,85%);}}}"]),T=n.Ay.div.withConfig({componentId:"sc-526dc07c-0"})(["color:#fff;display:flex;height:",";position:absolute;top:",";width:100%;.list{"," "," background-color:rgba(40,40,40,95%);overflow-y:auto;scrollbar-gutter:auto;width:100%;li{&.active-item{background-color:rgba(30,80,115,75%);}position:relative;figure{display:flex;padding:12px;padding-right:32px;picture,img{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px;}figcaption{font-size:8px;margin-top:-2px;max-width:calc(100% - 26px);padding-left:8px;h1{font-size:14.5px;font-weight:400;overflow:hidden;padding-right:12px;text-overflow:ellipsis;span{font-weight:600;}}h2{font-size:13px;font-weight:300;padding-top:6px;}}&.simple{padding:10px;picture,img{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px;}figcaption{h1{font-size:14px;font-weight:300;white-space:nowrap;}}}picture:not(:first-child){position:absolute;img{position:absolute;}}}div.select{border-left:1px solid transparent;display:flex;height:100%;place-content:center;place-items:center;position:absolute;right:0;top:0;width:26px;svg{fill:#fff;height:16px;width:16px;}}&:hover{background-color:rgba(100,100,100,95%);div.select{background-color:rgba(60,60,60,95%);border-left:1px solid rgba(40,40,40,95%);}figure{&:not(:hover){background-color:rgba(60,60,60,95%);}}&.active-item{background-color:rgba(16,88,145,95%);}}div.select:hover{background-color:rgba(100,100,100,95%);}}}"],({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,(0,u.A)(x.a_,-2,-1),g);var M=i(61377);let $=(0,n.Ay)(l.m.nav).withConfig({componentId:"sc-51cd7a4e-0"})([""," backdrop-filter:",";@keyframes fade-in{0%{opacity:0%;}100%{opacity:100%;}}.search{width:100%;input{appearance:none;background-color:#fff;border:2px solid rgb(0,120,215);border-radius:0;color:#000;font-size:15px;height:40px;padding:10px;padding-left:37px;width:100%;&::placeholder{color:#000;inset:0;left:37px;opacity:100%;overflow:visible;}&::-webkit-search-cancel-button{margin:0 0 0 8px;}}svg{bottom:12px;height:16px;left:12px;position:absolute;width:16px;z-index:2;}}.content{animation:fade-in 0.85s;height:calc(100% - 40px);.no-results{display:flex;font-size:14px;font-weight:300;padding:5px 15px;place-items:center;pointer-events:none;user-select:none;svg{fill:#fff;height:32px;margin-right:12px;width:32px;}}.tab{color:rgb(175,175,175);display:flex;flex-direction:column;height:",";place-content:center;place-items:center;position:absolute;top:",";width:100%;h1{font-size:28px;font-weight:400;padding-top:14px;}h3{font-size:14px;font-weight:400;padding-top:8px;}svg{fill:rgb(115,115,115);height:128px;width:128px;}}> nav{position:absolute;right:25px;top:15px;.close-button svg{fill:rgb(200,200,200);height:14px;&:hover{fill:#fff;}}}}> div{display:flex;flex-direction:column;height:100%;width:100%;}"],({$singleLine:e,theme:t})=>(0,M.A)(t.sizes.search.maxHeight+(e?X:0),t.sizes.search.size,t.sizes.taskbar.button.width,!0),({theme:e})=>`blur(${e.sizes.taskbar.panelBlur})`,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`),D=n.Ay.div.withConfig({componentId:"sc-deaff98b-0"})([""," "," color:#fff;display:flex;height:",";overflow:hidden;place-content:space-evenly;place-items:start;position:absolute;top:",";width:100%;@media (hover:none),(pointer:coarse){overflow-y:scroll;}@supports (not (scrollbar-gutter:stable)){padding-right:","px;@supports not selector(::-webkit-scrollbar){padding-right:8px;}@media (hover:hover),(pointer:fine){&:hover{padding-right:0;}}&:hover{overflow-y:scroll;}}@supports (scrollbar-gutter:stable){&:hover{overflow-y:auto;}}figcaption{font-size:13px;font-weight:600;svg{fill:#fff;height:16px;margin-bottom:-3px;margin-right:6px;width:16px;}}figure.card{background-color:rgba(45,45,45,60%);border-radius:5px;padding:8px 12px;&:hover{box-shadow:0 3px 6px rgba(0,0,0,40%);}> figcaption{padding-left:2px;white-space:nowrap;}ol{display:flex;gap:9px;margin-top:10px;place-content:space-between;li{display:flex;flex-direction:column;max-width:80px;min-width:80px;text-align:left;img{background-color:rgba(60,60,60,85%);border-radius:5px;margin-bottom:4px;min-height:80px;min-width:80px;padding:12px;pointer-events:all;user-select:all;&:hover{background-color:rgba(16,88,145,85%);}}h4{font-size:11px;font-weight:400;padding-left:2px;}&:hover{h4{text-decoration:underline;}}}}}section{display:flex;flex-direction:column;gap:16px;padding:20px 10px 20px 24px;width:100%;&:first-child{padding-bottom:",";}}&.single-line{flex-direction:column;place-content:flex-start;figure.card{width:min-content;ol{gap:16px;}}section{padding-right:24px;&:not(:first-child){padding-top:16px;}}}"],(0,u.A)(x.a_,-2,-1),g,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,x.a_,({$singleLine:e})=>e?0:void 0),R=n.Ay.ol.withConfig({componentId:"sc-c9388d2c-0"})(['display:grid;padding:9px 0 0;li{border-radius:5px;display:flex;flex-direction:column;height:51px;place-items:start;position:relative;width:100%;figure{display:flex;padding:9px 16px;place-items:center;position:relative;top:1px;figcaption{font-size:15px;font-weight:400;padding-left:12px;white-space:nowrap;}}&::before{border-top:1px solid rgba(80,80,80,55%);content:"";height:100%;position:absolute;width:100%;}&:first-child{&::before{border-top:none;}}&:hover{background-color:rgba(80,80,80,75%);&::before{border:none;}+ li{&::before{border-top:none;}}}}']),B=n.Ay.ol.withConfig({componentId:"sc-a671803-0"})(["border-bottom:1px solid hsla(0,0%,13%,40%);color:#fff;display:flex;font-size:12px;font-weight:600;gap:1px;padding:2px 13px 0;position:absolute;li{color:rgb(215,215,215);padding:15px 13px 14px;&.active{border-bottom:4px solid rgb(0,120,215);color:#fff;}&:hover{color:#fff;}}"]),L=()=>{let{sizes:{search:e}}=(0,n.DP)(),t=`-${e.inputHeight}px`;return{animate:"active",exit:{bottom:t,position:"absolute",transition:{duration:x.f9.TASKBAR_ITEM/10,ease:"easeIn"}},initial:"initial",transition:{duration:x.f9.TASKBAR_ITEM/1,ease:"easeOut"},variants:{active:{bottom:0,position:"absolute"},initial:{bottom:t,position:"absolute"}}}};var P=i(67488),_=i(47102),U=i(84507),K=i(25573),W=i(89622);let F=["All","Documents","Photos","Videos"],X=34,Y="NO_RESULTS",q=["FileExplorer","Terminal","Messenger","Browser","Paint"],G=["SpaceCadet","Quake3","DXBall"],Q={Documents:{icon:(0,r.jsx)(p.jj,{}),subtitle:"for documents",title:"Documents"},Photos:{icon:(0,r.jsx)(p.aN,{}),title:"Photos"},Videos:{icon:(0,r.jsx)(p.j9,{}),title:"Videos"}},Z=({toggleSearch:e})=>{let t=(0,s.useRef)(null),i=(0,s.useRef)(null),{recentFiles:p,updateRecentFiles:d}=(0,v.w)(),{lstat:g,readFile:u}=(0,w.f)(),[f,m]=(0,s.useState)("All"),{sizes:{search:z}}=(0,n.DP)(),[S,C]=(0,s.useState)(550),I=S<550,V=(0,_.A)(z.maxHeight+(I?X:0),!0,.1,0),H=L(),[E,M]=(0,s.useState)(!1),Z=(0,s.useCallback)(e=>{e?.focus(x.VD),setTimeout(()=>M(!0),400),t.current=e},[]),[J,ee]=(0,s.useState)(""),et=(0,W.SQ)(J),[ei,er]=(0,s.useState)(""),[eo,en]=(0,s.useState)(""),{open:es}=(0,k.N)(),[el,ea]=(0,s.useState)([]),ec=(0,s.useMemo)(()=>"All"===f?et[0]:Object.fromEntries(el)[f]?.[0],[f,et,el]),ep=(0,s.useRef)(null),ed=(0,s.useCallback)(e=>{t.current&&(t.current.value=("All"===e?t.current.value:`${e}: ${t.current.value}`).replace(`${f}: `,""),ep.current?.scrollTo(0,0)),en(""),m(e)},[f]),eh=(0,s.useCallback)((t,i)=>{e(!1),es(t,i)},[es,e]),ex=(0,s.useRef)(0),eg=(0,s.useRef)(!1),eu=(0,s.useCallback)(()=>{eg.current||(eg.current=!0,(0,A.Ig)([W.xc,W.iu]))},[]);return(0,s.useEffect)(()=>{!ec?.ref||ei&&ei===ec?.ref&&eo?!ec&&eo&&en(""):(er(ec.ref),i.current&&i.current.clientWidth>550&&en(ec.ref))},[eo,ei,ec]),(0,s.useEffect)(()=>{let e=()=>C(i.current?.clientWidth||0);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{et.length>0?et.reduce(async(e,t)=>{let i=await e,r=(0,o.extname)(t.ref),n="";return r===x.b3?t.ref.startsWith(`${x.zQ}/`)?n="Photos":t.ref.startsWith(`${x.Cj}/`)?n="VideoPlayer":{pid:n}=(0,c.Aw)(await g(t.ref))?(0,c.lH)(t.ref):(0,c.DB)(await u(t.ref)):n=(0,c.YD)(r),"Photos"===n?i.Photos.push(t):"VideoPlayer"===n?i.Videos.push(t):i.Documents.push(t),i},Promise.resolve({Documents:[],Photos:[],Videos:[]})).then(e=>ea(Object.entries(e))):ea([])},[g,u,et]),(0,r.jsx)($,{ref:i,$singleLine:I,id:"searchMenu",onBlurCapture:r=>(0,P.Q2)(r,i.current,e,t.current,P.BN,!0),onKeyDown:({key:t})=>{"Escape"===t&&e(!1)},...V,...x.W8,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"content",onContextMenu:A.CH,children:[(0,r.jsx)(B,{children:F.filter(e=>!(S<325&&"Videos"===e)&&!(S<260&&"Photos"===e)).map(e=>(0,r.jsx)("li",{className:e===f?"active":void 0,onClick:()=>ed(e),...(0,A.Pf)("All"===e?"Find the most relevant results":`Find results in ${e}`),children:e},e))}),(0,r.jsx)("nav",{children:(0,r.jsx)(b.A,{className:"close-button",onClick:()=>e(!1),...(0,A.Pf)("Close Search"),children:(0,r.jsx)(U.US,{})})}),!J&&"All"===f&&(0,r.jsxs)(D,{$singleLine:I,className:I?"single-line":void 0,children:[(0,r.jsx)("section",{children:(0,r.jsxs)("figure",{children:[(0,r.jsx)("figcaption",{children:"Suggested"}),(0,r.jsx)(R,{children:q.map(e=>(0,r.jsx)("li",{onClick:()=>eh(e),title:K.A[e].title,children:(0,r.jsxs)("figure",{children:[(0,r.jsx)(j.A,{displaySize:32,imgSize:32,src:K.A[e].icon}),(0,r.jsx)("figcaption",{children:K.A[e].title})]})},e))})]})}),(0,r.jsxs)("section",{children:[p.length>0&&(0,r.jsxs)(O,{children:[(0,r.jsx)("figcaption",{children:"Recent"}),(0,r.jsx)("ol",{children:p.map(([e,t,i],n)=>(0,r.jsxs)("li",{onClick:()=>{eh(t,{url:e}),0!==n&&setTimeout(()=>d(e,t,i),x.f9.TASKBAR_ITEM*x.iC)},children:[(0,r.jsx)(j.A,{displaySize:16,imgSize:16,src:K.A[t]?.icon}),(0,r.jsx)("h2",{children:i||(0,o.basename)(e,(0,o.extname)(e))})]},`${e}${t}`))})]}),(0,r.jsxs)("figure",{className:"card",children:[(0,r.jsxs)("figcaption",{children:[(0,r.jsx)(h.kx,{}),"Games for you"]}),(0,r.jsx)("ol",{children:G.filter(e=>!(S<360&&"Quake3"===e)&&!(S<260&&"SpaceCadet"===e)).map(e=>K.A[e]&&(0,r.jsxs)("li",{onClick:()=>eh(e),title:K.A[e].title,children:[(0,r.jsx)(j.A,{displaySize:56,imgSize:96,src:K.A[e].icon}),(0,r.jsx)("h4",{children:K.A[e].title})]},e))})]})]})]}),!J&&"All"!==f&&(0,r.jsxs)("div",{className:"tab",children:[Q[f].icon,(0,r.jsxs)("h1",{children:["Search ",Q[f].title.toLowerCase()]}),(0,r.jsxs)("h3",{children:["Start typing to search"," ",Q[f].subtitle||Q[f].title.toLowerCase()]})]}),J&&(0,r.jsxs)(T,{children:[(!I||!eo)&&(0,r.jsxs)("div",{ref:ep,className:"list",children:[(0,r.jsx)(N,{activeItem:eo,activeTab:f,openApp:eh,results:[ec||{ref:Y}],searchTerm:J,setActiveItem:en,title:"Best match",details:!0}),et.length>1&&el.map(([e,t])=>("All"===f||f===e)&&(0,r.jsx)(N,{activeItem:eo,activeTab:f,changeTab:ed,openApp:eh,results:t.filter(e=>ec!==e),searchTerm:J,setActiveItem:en,title:e},e))]}),eo&&ec&&(0,r.jsx)(y,{openApp:eh,setActiveItem:en,singleLineView:I,url:eo||ec?.ref})]})]}),(0,r.jsxs)(l.m.div,{className:"search",...H,children:[(0,r.jsx)(a.Search,{}),(0,r.jsx)("input",{ref:Z,onChange:()=>{let e="All"===f?"":`${f}: `,i=t.current?.value.startsWith(e)?t.current?.value.replace(e,""):t.current?.value;window.clearTimeout(ex.current),ex.current=window.setTimeout(()=>ee(i??""),ex.current>0?x.Sq:0)},onClick:eg.current?void 0:eu,onKeyDown:({key:e})=>{if(eu(),"Enter"===e&&ec?.ref){let e=i.current?.querySelector(".list li:first-child figure");e?.click()}},placeholder:"Type here to search",style:{caretColor:E?void 0:"transparent"},...W.Le})]})]})})}},61377:(e,t,i)=>{i.d(t,{A:()=>n});var r=i(33540),o=i(48060);let n=(e,t,i=0,n=!1)=>(0,r.AH)(["background-color:hsla(0,0%,13%,95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsla(0,0%,10%,50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,13%,70%);}"],n?"1px solid hsla(0, 0%, 25%, 75%)":"none",o.D5,i,e,t,i)},47102:(e,t,i)=>{i.d(t,{A:()=>n});var r=i(48060),o=i(37e3);let n=(e,t=!0,i=.5,n=.75)=>{let s=Math.min(e,(0,o.Bv)()-r.D5);return{animate:"active",exit:{height:`${s*n}px`,transition:{duration:r.f9.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:r.f9.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${s}px`,paddingTop:0},initial:{height:`${s*n}px`,paddingTop:t?`${s*i}px`:0}}}}},84507:(e,t,i)=>{i.d(t,{Su:()=>l,US:()=>a,_X:()=>s,gR:()=>n});var r=i(74848),o=i(96540);let n=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0h10v1H0z"})})),s=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),l=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),a=(0,o.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},89622:(e,t,i)=>{i.d(t,{iu:()=>c,Le:()=>d,xc:()=>p,od:()=>f,SQ:()=>m});var r=i(16286),o=i(96540),n=i(25559);let s=JSON.parse('{"X":[".cache",".json"],"P":[".md",".txt",".whtml"]}');var l=i(48060),a=i(37e3);let c="/.index/search.lunr.json",p="/System/lunr/lunr.min.js",d={"aria-label":"Search",enterKeyHint:"search",inputMode:"search",name:"search",type:"search",...l.m8},h=Object.create(null),x=[],g=async(e,t)=>{if(window.lunr||await (0,a.aY)([p]),!t&&!h?.search){let e=await fetch(c,l.c9);try{let{paths:t,...i}=JSON.parse(await e.text());h=window.lunr?.Index.load(i),x=t}catch{}}let i=t??h,r=[],o=e.trim().replace(/\./g," ").replace(/\*~\^-\+/g,"");try{r=i.search?.(o),r?.length===0&&(r=i.search?.(`${o.split(" ").join("* ")}*`))}catch{}return r?r.map(e=>({...e,ref:(Object.prototype.hasOwnProperty.call(x,e.ref)?x[e.ref]:e.ref)||""})):[]},u=async(e,t)=>{let i=t?._getFs("/")?.fs,o=i?.getOverlayedFileSystems(),n=o?.writable,l=("function"==typeof n?._cache?.map?.keys&&[...n._cache.map.keys()]||Object.keys(n?._cache?.map||{})||[]).filter(e=>{let t=(0,a.uQ)(e);return!!t&&!s.X.includes(t)}),c=await Promise.all(l.map(async t=>{let i=(0,r.basename)(t,(0,r.extname)(t));return{name:i,path:t,text:s.P.includes((0,a.uQ)(t))?`${i} ${(await e(t)).toString()}`:i}})),p=window.lunr?.(function(){this.ref("path"),this.field("name"),this.field("text"),c.forEach(e=>this.add(e))});return window.lunr?.Index.load(p.toJSON())},f=async(e,t,i)=>{let r=await g(e),o=await u(t,i);return[...r,...await g(e,o)].sort((e,t)=>t.score-e.score)},m=e=>{let[t,i]=(0,o.useState)([]),{readFile:r,rootFs:s}=(0,n.f)();return(0,o.useEffect)(()=>{(async()=>{e.length>0?(window.lunr||await (0,a.aY)([p]),g(e).then(i),u(r,s).then(t=>g(e,t).then(e=>i(t=>[...t,...e].sort((e,t)=>t.score-e.score))))):i([])})()},[r,s,e]),t}}}]);