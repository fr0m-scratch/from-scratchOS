(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332],{92022:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(41100)}])},86572:(e,t,r)=>{"use strict";r.d(t,{$W:()=>n,nh:()=>o,rv:()=>i});let n={camera:{far:400,fov:30,near:.1},color:"hsl(225, 40%, 20%)",colorCycleSpeed:10,forceAnimate:!0,hh:50,hue:225,lightness:20,material:{options:{fog:!1,wireframe:!1}},saturation:40,shininess:35,waveHeight:20,waveSpeed:.25,ww:50},i={gyroControls:!1,mouseControls:!1,mouseEase:!1,touchControls:!1},o=["/System/Vanta.js/three.min.js","/System/Vanta.js/vanta.waves.min.js"]},80052:(e,t,r)=>{"use strict";r.d(t,{BG:()=>l,UU:()=>s,kx:()=>c,v5:()=>a,vj:()=>o});var n=r(74848),i=r(96540);let o=(0,i.memo)(()=>(0,n.jsx)("svg",{style:{border:"1px solid transparent",borderRight:0,borderTop:0,height:"17px",marginLeft:"-1px"},viewBox:"3 -1 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z",stroke:"#FFF",strokeWidth:"1"})})),s=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m257.5 977.5 465-465.5-465-465.5 45-45 511 510.5-511 510.5z"})})),a=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M768 128h192v192h-64v-82.5l-228 228-45.5-45.5 228-228H768v-64zm0 384 64-64v384H0V256h640l-64 64H64v448h704V512z"})})),l=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M768 0q13 0 24.75 5t20.5 13.75T827 39.25 832 64v464q0 15.5 4.75 27t11.75 21.75 15.5 20.5T879.5 620t11.75 29 4.75 39v144q0 13-5 24.75t-13.75 20.5-20.5 13.75-24.75 5H384v64q0 19.5-10.75 35.5T344.5 1019q-11.5 5-24.5 5-26.5 0-45.5-19L128 858.5V0h640zM320 784q0-22.5 4.75-38.75t11.75-29T352 693.5t15.5-20.25 11.75-22T384 624V301.5l-192-192V832l128 128V784zm512-96q0-15.5-4.75-27t-11.75-21.75-15.5-20.5T784.5 596t-11.75-29-4.75-39V64H237.5l192 192q9 9 13.75 20.75T448 301.5V624q0 22.5-4.75 38.75t-11.75 29T416 714.5t-15.5 20.25-11.75 22T384 784v48h448V688z"})})),c=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M939.5 276.5q41 41 62.75 93.25T1024 480q0 17.5-1 42t-4.25 53-9.5 58.75T993 693q-15 43-35 70.25t-41.5 42.5T873 826.5t-41 5.5q-16.5 0-30.25-5.75t-26-14.75-23-20.75T731.5 767t-20.75-23-21.25-19.75T666.25 710t-26.75-6h-255q-14.5.5-26.75 6t-23.25 14.25T313.25 744t-20.75 23-21.25 23.75-23 20.75-26 14.75T192 832q-19 0-41-5.5t-43.5-20.75-41.5-42.5T31 693q-10-29-16.25-59.25T5.25 575 1 522t-1-42q0-58 21.75-110.25T84.5 276.5q40.5-41 93-62.75T288 192h448q58 0 110.25 21.75t93.25 62.75zm-7 395.5q9.5-26.5 15-55t8.25-54.75 3.5-47.75.75-34.5q0-46.5-17.75-87.25t-48-71-71-48T736 256H288q-46.5 0-87.25 17.75t-71 48-48 71T64 480q0 13 .75 34.5t3.5 47.75T76.5 617t15 55q12.5 36 27.5 55.5t29.25 28.5 26 10.5T192 768q11 0 24.25-13.25T244 725q12-14 25.75-28.75t30.5-27T337.5 649t45.5-9h258q25 1 45.5 9t37.25 20.25 30.5 27T780 725q14.5 16.5 27.75 29.75T832 768q6 0 17.75-1.5t26-10.5T905 727.5t27.5-55.5zM256 448h64v64h-64v64h-64v-64h-64v-64h64v-64h64v64zm576 64q13.5 0 25 5t20.25 13.75T891 551t5 25-5 25-13.75 20.25T857 635t-25 5-25-5-20.25-13.75T773 601t-5-25 5-25 13.75-20.25T807 517t25-5zM704 384q13.5 0 25 5t20.25 13.75T763 423t5 25-5 25-13.75 20.25T729 507t-25 5-25-5-20.25-13.75T645 473t-5-25 5-25 13.75-20.25T679 389t25-5z"})}))},3420:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(96540),i=r(10581),o=r(78744),s=r(99204),a=r(45694),l=r(49589),c=r(63461),d=r(48060),u=r(37e3),h=r(40423),p=r(15289);let m=(e=!1)=>{let{contextMenu:t}=(0,o.b)(),{minimize:r,open:m}=(0,s.N)(),{aiEnabled:f,setAiEnabled:w,stackOrder:g}=(0,a.w)(),v=(0,c.w)(),{fullscreenElement:b,toggleFullscreen:x}=(0,l.T)(),k=(0,h._)(),y=(0,p.i)();return(0,n.useMemo)(()=>t?.(()=>{let t=Object.entries(v.current),n=t.length>0&&!t.some(([,{minimized:e}])=>!e),o=[{action:()=>u.UH(v.current,g,r),label:e?"Desktop":n?"Show open windows":"Show the desktop"}];return e?o.unshift({action:()=>m("Terminal"),label:"Terminal"},d.kG,{action:()=>m("FileExplorer"),label:"File Explorer"},{action:()=>m("Run"),label:"Run"},d.kG):o.unshift({action:()=>x(),label:b===document.documentElement?"Exit full screen":"Enter full screen"},d.kG,...k&&!y?[{action:()=>w(!f),checked:f,label:`Show ${i.K1} button`},d.kG]:[]),o}),[f,t,b,k,y,r,e,m,v,w,g,x])}},39913:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);let i=(e,t,r)=>{let i=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>(e&&!i.current&&(i.current=e(r),t&&i.current.addEventListener("message",t,{passive:!0}),i.current.postMessage("init")),()=>{i.current?.terminate(),i.current=void 0}),[t,r,e]),i}},41100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ea});var n=r(74848),i=r(96540),o=r(45370),s=r(14953),a=r.n(s),l=r(99204);let c=a()(()=>r.e(3346,"high").then(r.bind(r,23346)),{loadableGenerated:{webpack:()=>[23346]}}),d=(0,i.memo)(()=>{let{processes:e={}}=(0,l.N)();return(0,n.jsx)(o.N,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(e).map(([e,{closing:t,Component:r,hasWindow:i}])=>e&&r&&!t&&(0,n.jsx)(c,{Component:r,hasWindow:i,id:e},e))})});var u=r(33540);let h=u.Ay.main.withConfig({componentId:"sc-ab1d5439-0"})(["background-color:transparent;contain:strict;height:100%;inset:0;overflow:clip;overscroll-behavior:none;position:fixed;width:100vw;#loading-status{background-color:#fff;border:1px solid #000;border-radius:8px;box-shadow:0 0 50px 1px #000;display:none;font-weight:600;left:50%;padding:12px 15px;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);user-select:none;}> canvas{background-color:inherit;height:100%;left:0;object-fit:cover;position:absolute;top:0;width:100%;z-index:-1;}"]);var p=r(16286),m=r(90690),f=r(86572),w=r(25559),g=r(45694),v=r(39913),b=r(48060),x=r(37e3);let k=[],y=e=>{let{exists:t,lstat:n,readFile:o,readdir:s,updateFolder:a,writeFile:l}=(0,w.f)(),{sessionLoaded:c,setWallpaper:d,wallpaperImage:h,wallpaperFit:y}=(0,g.w)(),{colors:E}=(0,u.DP)(),[T]=(0,i.useMemo)(()=>h.split(" "),[h]),j="VANTA WIREFRAME"===h,S=(0,v.A)(m.vJ[T],void 0,j?"Wireframe":""),C=(0,i.useRef)(0),$=(0,i.useRef)(!1),A=(0,i.useCallback)(t=>{e.current?.querySelector(m.sz)?.remove(),t||(e.current?.querySelector(m.j2)?.remove(),window.WallpaperDestroy?.()),"SLIDESHOW"!==T&&(document.documentElement.style.removeProperty("--after-background"),document.documentElement.style.removeProperty("--before-background"))},[e,T]),M=(0,i.useCallback)(async r=>{let n;if(!e.current||window.DEBUG_DISABLE_WALLPAPER)return;let{matches:i}=window.matchMedia("(prefers-reduced-motion: reduce)"),s=!window.top||window===window.top;if(!s)try{s=window.location.origin!==window.top?.location.origin}catch{s=!0}if("VANTA"===T)n={...f.$W,waveSpeed:f.$W.waveSpeed*(i?m.S7:1)},f.$W.material.options.wireframe=j||!s;else if(h.startsWith("MATRIX"))n={animationSpeed:i?m.S7:1,volumetric:h.endsWith("3D"),...s?{}:{fallSpeed:-.09,forwardSpeed:-.25}};else if("STABLE_DIFFUSION"===T){let e=`${b.zQ}/${b.sY}`;await t(e)&&(n={prompts:JSON.parse((await o(e))?.toString()||"[]")})}if(document.documentElement.style.setProperty("background",document.documentElement.style.background.replace(/".*"/,"")),A(r),!$.current&&"function"==typeof window.OffscreenCanvas&&S.current){let t={config:n,devicePixelRatio:1};if(r)S.current.postMessage(t);else{let r=(0,x.aH)(e.current);if(S.current.postMessage({canvas:r,...t},[r]),"STABLE_DIFFUSION"===T){let t=document.createElement("div");t.id="loading-status",e.current?.append(t),window.WallpaperDestroy=()=>{t.remove(),window.WallpaperDestroy=void 0},S.current.addEventListener("message",({data:e})=>{"[error]"===e.type?d("VANTA"):e.type?t.textContent=e.message||"":e.message||(C.current=window.setTimeout(()=>M(!0),b.S4*(window.STABLE_DIFFUSION_DELAY_IN_MIN_OVERRIDE??m.vS))),t.style.display=e.message?"block":"none"})}else S.current.addEventListener("message",({data:e})=>{"[error]"===e.type&&(e.message.includes("getContext")?($.current=!0,M()):d("SLIDESHOW"))})}}else if(m.cO[T]){let t=()=>d("VANTA"===T?"SLIDESHOW":"VANTA");m.cO[T]().then(({default:r})=>r?.(e.current,n,t)).catch(t)}else d("VANTA")},[e,t,o,A,d,j,h,T,S]),L=(0,i.useCallback)(async e=>(await s(e)).reduce(async(t,r)=>{let i=(0,p.join)(e,r);return[...await t,...(await n(i)).isDirectory()?await L(i):[b.O4.has((0,x.uQ)(i))&&!b.q$.has((0,x.uQ)(i))?i:""]].filter(Boolean)},Promise.resolve([])),[s,n]),z=(0,i.useCallback)(async()=>{let[,n]=/url\((.*)\)/.exec(document.documentElement.style.getPropertyValue((0,x.r3)()?"--before-background":"--after-background"))||[];n=n?.replace(/\\/g,""),n?.startsWith("blob:")&&(0,x.E)(n),A();let i="",s="",c=y,u="SLIDESHOW"===T;if(u){let e=`${b.zQ}/${b.QM}`;await t(e)||(await l(e,JSON.stringify(await t(b.zQ)?await L(b.zQ):"[]")),a(b.zQ,b.QM)),0===k.length&&k.push(...[...new Set(JSON.parse((await o(e))?.toString()||"[]"))].sort(()=>Math.random()-.5));do{i=k.shift()||"";let[e]=k;e&&(document.querySelector(`#${m._T}`)?.remove(),(0,x.NN)(e.startsWith("/")?`${window.location.origin}${e}`:e,m._T,"auto")),i.startsWith("/")&&(i=`${window.location.origin}${i}`)}while(n===i&&k.length>1);c="fill"}else if("APOD"===T){let[,,e]=h.split(" "),[t,,r,,n]=new Intl.DateTimeFormat(b.Xn,{timeZone:"US/Eastern"}).formatToParts(Date.now()).map(({value:e})=>e);if(e===`${n}-${t}-${r}`)return;let{date:o="",hdurl:a="",url:l=""}=await (0,x.t_)("https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY");if(a||l){if(i=((0,x.e8)()>1024?a:l)||l,c="fit",(0,x.t$)(i)){let e=`https://i.ytimg.com/vi/${(0,x.IP)(i)}`;i=`${e}/maxresdefault.jpg`,s=`${e}/hqdefault.jpg`}else a&&l&&a!==l&&(s=i===l?a:l);let e=`APOD ${i} ${o}`;e!==h&&(d(e,c),setTimeout(M,b.il))}}else if(await t(h)){let{decodeImageToBuffer:e}=await r.e(197,"high").then(r.bind(r,30197)),t=await o(h),n=await e((0,x.uQ)(h),t);i=(0,x.Zd)(n||t)}if(i){if(b.yH.has((0,x.uQ)(h))){let t=document.createElement("video");t.src=i,t.autoplay=!0,t.controls=!1,t.disablePictureInPicture=!0,t.disableRemotePlayback=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,t.style.position="absolute",t.style.inset="0",t.style.width="100%",t.style.height="100%",t.style.objectFit="cover",t.style.objectPosition="center center",t.style.zIndex="-1",e.current?.append(t)}else{let e=e=>{let t=m.gF[c];if(u)try{let{searchParams:r}=new URL(e),{x:n,y:i}=Object.fromEntries(r.entries());t=`${(0,x.Si)(n)} ${(0,x.Si)(i)} / cover`}catch{}let r="tile"===c?"repeat":"no-repeat",n=window===window.top,i=(0,x.r3)();document.documentElement.style.setProperty(`--${i?"after":"before"}-background`,`url(${CSS.escape(e)}) ${t} ${r} fixed border-box border-box ${n?E.background:E.text}`),document.documentElement.style.setProperty("--after-background-opacity",i?"1":"0"),document.documentElement.style.setProperty("--before-background-opacity",i?"0":"1"),n||document.documentElement.style.setProperty("--background-blend-mode","difference")};if(s){let t=new Image;t.addEventListener("load",()=>e(i)),t.addEventListener("error",()=>e(s)),t.decoding="async",t.src=i}else e(i),u&&(C.current=window.setTimeout(z,b.cm))}}else M()},[E,e,t,L,M,o,A,d,a,y,h,T,l]);(0,i.useEffect)(()=>{c&&(C.current&&window.clearTimeout(C.current),T&&!m.TY.includes(T)?z().catch(M):M())},[z,M,c,T]),(0,i.useEffect)(()=>{let t=()=>{if(!e.current||!m.cO[T])return;let t=e.current.getBoundingClientRect();S.current?.postMessage(t);let r=e.current.querySelector(m.j2);r instanceof HTMLCanvasElement&&(r.style.width=`${t.width}px`,r.style.height=`${t.height}px`)};return window.addEventListener("resize",t,{passive:!0}),()=>window.removeEventListener("resize",t)},[e,T,S])};var E=r(46285);let T=({children:e})=>{let t=(0,i.useRef)(null);return y(t),(0,n.jsxs)(h,{ref:t,children:[(0,n.jsx)(E.A,{url:b.Bn,allowMovingDraggableEntries:!0,hideLoading:!0,hideScrolling:!0,isDesktop:!0,loadIconsImmediately:!0}),e]})};var j=r(91745);new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric"}),new Intl.DateTimeFormat("en",{hour:"numeric",hour12:!0,minute:"2-digit",second:"2-digit"}),new Intl.DateTimeFormat("en",{weekday:"long"});let S=u.Ay.div.withConfig({componentId:"sc-b8fc51f3-0"})(["color:",";display:flex;font-size:",";height:100%;line-height:","px;max-width:",";min-width:",";padding:",";place-content:center;position:absolute;right:",";white-space:nowrap;&:hover{background-color:",";}&:active{background-color:",";}"],({theme:e})=>e.colors.text,({theme:e})=>e.sizes.clock.fontSize,b.D5-1,({theme:e,$width:t})=>`calc(${t}px + ${2*e.sizes.clock.padding}px)`,({theme:e,$width:t})=>`calc(${t}px + ${2*e.sizes.clock.padding}px)`,({theme:e})=>`0 ${e.sizes.clock.padding}px`,({theme:e,$hasAI:t})=>t?e.sizes.taskbar.ai.buttonWidth:0,({theme:e})=>e.colors.taskbar.hover,({theme:e})=>e.colors.taskbar.foreground);var C=r(78744);let $=e=>{let{contextMenu:t}=(0,C.b)(),{clockSource:r,setClockSource:n}=(0,g.w)();return(0,i.useMemo)(()=>t?.(()=>{e(!1);let t="local"===r;return[{action:()=>n("local"),label:"Local time",toggle:t},{action:()=>n("ntp"),label:"Server time",toggle:!t}]}),[r,t,n,e])},A={local:"Local",ntp:"Server"},M=7,L=()=>{M=7},z=async({target:e})=>{if(7===M&&e instanceof HTMLElement&&(e.removeEventListener("mouseleave",L),e.addEventListener("mouseleave",L,b.w3)),0==(M-=1)){let{spawnSheep:e}=await r.e(9343,"high").then(r.bind(r,69343));e(),M=7}},I=(0,i.memo)(({hasAI:e,setClockWidth:t,toggleCalendar:o,width:s})=>{let[a,l]=(0,i.useState)(Object.create(null)),{date:c,time:d}=a,{clockSource:h}=(0,g.w)(),p=(0,i.useCallback)(()=>new Worker(r.tu(new URL(r.p+r.u(1056),r.b)),{name:`Clock (${A[h]})`}),[h]),m=(0,i.useRef)(void 0),f=(0,i.useMemo)(()=>"OffscreenCanvas"in window,[]),w=(0,i.useCallback)(({data:e,target:t})=>{"source"===e?t.postMessage(h):l(t=>m.current&&t.date===e.date?t:e)},[h]),k=$(o),y=(0,v.A)(p,w),E=(0,i.useRef)({height:b.D5,width:s}),{formats:{systemFont:T},sizes:{clock:{fontSize:C}}}=(0,u.DP)(),M=(0,i.useCallback)(()=>Math.min(Math.max(b.li,Math.ceil((0,j.kD)("44:44:44 AM",C,T))),1.5*b.li),[C,T]),L=(0,i.useCallback)(e=>{!m.current&&y.current&&e instanceof HTMLDivElement&&([...e.children].forEach(e=>e.remove()),E.current.width=M(),t(E.current.width),m.current=(0,x.aH)(e,window.devicePixelRatio,E.current),y.current.postMessage({canvas:m.current,devicePixelRatio:window.devicePixelRatio},[m.current]))},[y,a]),I=(0,i.useCallback)(e=>{z(e),o()},[o]);return((0,i.useEffect)(()=>{m.current=void 0},[h]),(0,i.useEffect)(()=>{if(f){let e=()=>window.matchMedia(`(resolution: ${window.devicePixelRatio}x)`).addEventListener("change",()=>{y.current?.postMessage({clockSize:E.current,devicePixelRatio:window.devicePixelRatio}),e()},b.w3);e()}else t(M())},[y,M,t,f]),d)?(0,n.jsx)(S,{ref:f?L:void 0,$hasAI:e,$width:s,"aria-label":"Clock",onClick:I,role:"timer",title:c,suppressHydrationWarning:!0,...k,...b.W8,children:f?void 0:d}):null});var q=r(80052),P=r(87952);let W=(0,u.Ay)(P.A).withConfig({componentId:"sc-61643d7e-0"})(["background-color:",";display:flex;fill:",";height:100%;left:",";place-content:center;place-items:center;position:absolute;&&{width:","px;}svg{height:",";}&:hover{background-color:",";svg{fill:",";}}&:active{background-color:hsla(0,0%,20%,70%);svg{fill:",";}}"],({$active:e,$highlight:t,theme:r})=>e&&(t?r.colors.taskbar.foreground:"hsla(0, 0%, 25%, 50%)"),({theme:e})=>e.colors.taskbar.button.color,({$left:e})=>e?`${e}px`:0,({theme:e})=>e.sizes.taskbar.button.width,({theme:e})=>e.sizes.taskbar.button.iconSize,({$active:e,theme:t})=>e?t.colors.taskbar.foreground:t.colors.taskbar.hover,({$highlight:e,theme:t})=>e?t.colors.highlight:void 0,({$highlight:e})=>e?"hsla(207, 100%, 60%, 80%)":void 0);var D=r(67488),R=r(3420);let N=({searchVisible:e,toggleSearch:t})=>{let{sizes:{taskbar:r}}=(0,u.DP)();return(0,n.jsx)(W,{$active:e,$left:r.button.width,onClick:()=>t(),...b.WW,...(0,x.Pf)(D.BN),...(0,R.A)(),children:(0,n.jsx)(q.vj,{})})},O=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 588.42 568.88",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m10.5 177.038 20.675 1.532c21.44-24.249 29.864-95.974 156.213-81.935-4.595 307.32-139.367 339.737-130.943 402.784 3.063 35.735 31.395 57.687 62.025 58.963 96.74-3.318 92.4-133.751 122.52-462.513h124.818c-6.637 115.883-24.76 231.767-26.802 345.353 1.532 75.554 47.477 115.884 107.971 116.394 99.548 3.318 130.943-112.82 130.943-162.339h-21.44c-2.043 40.84-21.697 70.194-63.558 71.98-114.097 1.532-51.305-200.626-50.54-369.857l135.538.766-.765-86.53C13.807 8.908 85.312-2.137 10.5 177.038z"})})),_=({startMenuVisible:e,toggleStartMenu:t})=>{let[o,s]=(0,i.useState)(!1),a=(0,i.useRef)(!1),l=(0,i.useCallback)(async()=>{if(a.current)return;a.current=!0;let e=(await r.e(240,"high").then(r.t.bind(r,240,19))).default;e?.forEach(e=>x.NN(e)),s(!0)},[]),c=(0,i.useCallback)(async({ctrlKey:e,shiftKey:n})=>{if(o||l(),t(),e&&n){let{spawnSheep:e}=await r.e(9343,"high").then(r.bind(r,69343));e()}},[l,o,t]);return(0,n.jsx)(W,{$active:e,onClick:c,onMouseOver:o?void 0:l,$highlight:!0,...b.WW,...(0,x.Pf)(D.r5),...(0,R.A)(!0),children:(0,n.jsx)(O,{})})},F=u.Ay.nav.withConfig({componentId:"sc-658790dd-0"})(["backdrop-filter:",";background-color:",";bottom:0;contain:size layout;height:","px;left:0;position:absolute;right:0;width:100vw;z-index:100000;"],({theme:e})=>`blur(${e.sizes.taskbar.blur})`,({theme:e})=>e.colors.taskbar.background,b.D5),H=u.Ay.ol.withConfig({componentId:"sc-d8dbb385-0"})(["column-gap:1px;display:flex;height:100%;left:","px;margin:0 3px;overflow:hidden;position:absolute;right:",";"],({theme:e})=>2*e.sizes.taskbar.button.width,({$clockWidth:e,$hasAI:t,theme:r})=>`calc(${e}px + ${2*r.sizes.clock.padding}px + ${t?r.sizes.taskbar.ai.buttonWidth:"0px"})`),V=a()(()=>r.e(2790,"high").then(r.bind(r,62790)),{loadableGenerated:{webpack:()=>[62790]}}),B=(0,i.memo)(({clockWidth:e,hasAI:t})=>{let{processes:r={}}=(0,l.N)();return(0,n.jsx)(H,{$clockWidth:e,$hasAI:t,children:(0,n.jsx)(o.N,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(r).filter(([,{closing:e,hideTaskbarEntry:t}])=>!e&&!t).map(([e,{icon:t,title:r}])=>(0,n.jsx)(V,{icon:t,id:e,title:r},e))})})});var G=r(15289);let Q=a()(()=>r.e(2010,"high").then(r.bind(r,62010)),{loadableGenerated:{webpack:()=>[62010]}}),U=a()(()=>r.e(520,"high").then(r.bind(r,60520)),{loadableGenerated:{webpack:()=>[60520]}}),Y=a()(()=>r.e(6358,"high").then(r.bind(r,16358)),{loadableGenerated:{webpack:()=>[16358]}}),J=a()(()=>r.e(5160,"high").then(r.bind(r,75160)),{loadableGenerated:{webpack:()=>[75160]}}),X=a()(()=>r.e(6615,"high").then(r.bind(r,6615)),{loadableGenerated:{webpack:()=>[6615]}}),K=(0,i.memo)(()=>{let[e,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(b.li),{aiEnabled:p}=(0,g.w)(),m=(0,G.i)(),f=(0,i.useCallback)(e=>t(t=>e??!t),[]),w=(0,i.useCallback)(e=>s(t=>e??!t),[]),v=(0,i.useCallback)(e=>l(t=>e??!t),[]),x=(0,i.useCallback)(e=>d(t=>e??!t),[]),k=m||p;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.N,{initial:!1,presenceAffectsLayout:!1,children:[e&&(0,n.jsx)(X,{toggleStartMenu:f},"startMenu"),r&&(0,n.jsx)(J,{toggleSearch:w},"search")]}),(0,n.jsxs)(F,{...(0,R.A)(),...b.W8,children:[(0,n.jsx)(_,{startMenuVisible:e,toggleStartMenu:f}),(0,n.jsx)(N,{searchVisible:r,toggleSearch:w}),(0,n.jsx)(B,{clockWidth:u,hasAI:k}),(0,n.jsx)(I,{hasAI:k,setClockWidth:h,toggleCalendar:v,width:u}),k&&(0,n.jsx)(Q,{aiVisible:c,toggleAI:x})]}),(0,n.jsxs)(o.N,{initial:!1,presenceAffectsLayout:!1,children:[a&&(0,n.jsx)(Y,{toggleCalendar:v},"calendar"),c&&(0,n.jsx)(U,{toggleAI:x},"aiChat")]})]})}),Z=e=>{e.error?.stack?.includes("eval at <anonymous>")&&(0,x.CH)(e)},ee=()=>{(0,i.useEffect)(()=>(window.addEventListener("error",Z),()=>window.removeEventListener("error",Z)),[])};var et=r(59554),er=r(63461);let en=()=>{let{setForegroundId:e}=(0,g.w)(),t=(0,er.w)();(0,i.useEffect)(()=>{let r=()=>{if(document.activeElement instanceof HTMLIFrameElement){let[r]=Object.entries(t.current).find(([,{componentWindow:e}])=>e?.contains(document.activeElement))||[];r&&(e(r),window.addEventListener("click",({target:r})=>{let[n=""]=Object.entries(t.current).find(([,{componentWindow:e}])=>r instanceof HTMLElement&&e?.contains(r))||[];e(n)},b.w3))}};return window.addEventListener("blur",r,{passive:!0}),()=>window.removeEventListener("blur",r)},[t,e])};var ei=r(25573);let eo=e=>e.startsWith("http://")||e.startsWith("https://")||e.startsWith("chrome://"),es=()=>{let{exists:e,fs:t}=(0,w.f)(),{open:r}=(0,l.N)(),n=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(n.current||!t||!e||!r)return;n.current=!0;let i=(0,x.ov)("app"),o=(0,x.ov)("url"),s=async t=>{if(!t)return;let n=!1;try{n="Browser"===t&&eo(o)||await e(o)}catch{}("FileExplorer"!==t||!o||n)&&r(t,n?{url:o}:void 0)};if(i)s(Object.fromEntries(Object.entries(ei.A).filter(([,{dialogProcess:e}])=>!e).map(([e])=>[e.toLowerCase(),e]))[i.toLowerCase()]);else if(o){let e=(0,x.uQ)(o);s(eo(o)?"Browser":e?(0,j.YD)(e):"FileExplorer")}},[e,t,r])},ea=(0,i.memo)(()=>(en(),es(),(0,et.A)(),ee(),(0,n.jsxs)(T,{children:[(0,n.jsx)(K,{}),(0,n.jsx)(d,{})]})))},45370:(e,t,r)=>{"use strict";r.d(t,{N:()=>w});var n=r(74848),i=r(96540),o=r(83006),s=r(49474),a=r(14394),l=r(60987);class c extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,i.useId)(),o=(0,i.useRef)(null),s=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,i.useContext)(l.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:n,top:i,left:l}=s.current;if(t||!o.current||!e||!n)return;o.current.dataset.motionPopId=r;let c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,n.jsx)(c,{isPresent:t,childRef:o,sizeRef:s,children:i.cloneElement(e,{ref:o})})}let u=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:u})=>{let p=(0,s.M)(h),m=(0,i.useId)(),f=(0,i.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},[p,o]),w=(0,i.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:l,onExitComplete:f,register:e=>(p.set(e,!1),()=>p.delete(e))}),c?[Math.random(),f]:[r,f]);return(0,i.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),i.useEffect(()=>{r||p.size||!o||o()},[r]),"popLayout"===u&&(e=(0,n.jsx)(d,{isPresent:r,children:e})),(0,n.jsx)(a.t.Provider,{value:w,children:e})};function h(){return new Map}let p=e=>e.key||"";function m(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var f=r(63797);let w=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:h=!1})=>{let[w,g]=function(e=!0){let t=(0,i.useContext)(a.t);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:n,register:o}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{e&&o(s)},[e]);let l=(0,i.useCallback)(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,l]:[!0]}(h),v=(0,i.useMemo)(()=>m(e),[e]),b=h&&!w?[]:v.map(p),x=(0,i.useRef)(!0),k=(0,i.useRef)(v),y=(0,s.M)(()=>new Map),[E,T]=(0,i.useState)(v),[j,S]=(0,i.useState)(v);(0,f.E)(()=>{x.current=!1,k.current=v;for(let e=0;e<j.length;e++){let t=p(j[e]);b.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[j,b.length,b.join("-")]);let C=[];if(v!==E){let e=[...v];for(let t=0;t<j.length;t++){let r=j[t],n=p(r);b.includes(n)||(e.splice(t,0,r),C.push(r))}"wait"===d&&C.length&&(e=C),S(m(e)),T(v);return}let{forceRender:$}=(0,i.useContext)(o.L);return(0,n.jsx)(n.Fragment,{children:j.map(e=>{let i=p(e),o=(!h||!!w)&&(v===j||b.includes(i));return(0,n.jsx)(u,{isPresent:o,initial:(!x.current||!!r)&&void 0,custom:o?void 0:t,presenceAffectsLayout:c,mode:d,onExitComplete:o?void 0:()=>{if(!y.has(i))return;y.set(i,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==$||$(),S(k.current),h&&(null==g||g()),l&&l())},children:e},i)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6285,636,6593,8792],()=>t(92022)),_N_E=e.O()}]);