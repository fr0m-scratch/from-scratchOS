"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1451],{1451:(e,t,i)=>{i.d(t,{getIpfsFileName:()=>s,getIpfsGatewayUrl:()=>f,getIpfsResource:()=>w});var a=i(48060),r=i(48287).Buffer;let n="",o=["https://<CID>.ipfs.dweb.link/","https://gateway.ipfs.io/ipfs/<CID>/"],l=e=>new Promise(t=>{let i=window.setTimeout(()=>t(!1),a.iC),r=new Image;r.addEventListener("load",()=>{window.clearTimeout(i),t(!0)},a.w3),r.addEventListener("error",()=>{window.clearTimeout(i),t(!1)},a.w3),r.src=`${e.replace("<CID>","bafybeibwzifw52ttrkqlikfzext5akxu7lz4xiwjgwzmqcpdzmp3n5vnbe")}?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`}),f=async(e,t)=>{if(!n||t){for(let e of t?o.filter(e=>e!==n):o)if(await l(e)){n=e;break}if(!n)return""}let{hostname:a,pathname:r,protocol:f,search:s}=new URL(e);if("ipfs:"!==f)return"";let[w="",...c]=`${a}${r}`.split("/").filter(Boolean),{CID:p}=await i.e(8480,"high").then(i.bind(i,38480));return`${n.replace("<CID>",p.parse(w).toV1().toString())}${c.join("/")}${s}`},s=async(e,t)=>{let{hostname:a,pathname:r,searchParams:n}=new URL(e),o=n.get("filename");if(o)return o;let{fileTypeFromBuffer:l}=await Promise.all([i.e(9861,"high"),i.e(8302,"high"),i.e(5606,"high")]).then(i.bind(i,18302)),{ext:f=""}=await l(t)||{},s=`${a}${r}`;return`${s.split("/").filter(Boolean).join("_")}${f?`.${f}`:""}`},w=async e=>{let t;let i={...a.c9,cache:"no-cache",credentials:"omit",keepalive:!1,mode:"cors",referrerPolicy:"no-referrer",window:null};try{t=await fetch(await f(e),i)}catch(a){"Failed to fetch"===a.message&&(t=await fetch(await f(e,!0),i))}return t instanceof Response?r.from(await t.arrayBuffer()):r.from("")}}}]);