"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1521,1583],{31521:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var a=t(74848);let r=t(33540).Ay.div.withConfig({componentId:"sc-8b072f9d-0"})(["canvas{height:100%;object-fit:contain;width:100%;}"]);var s=t(16286),i=t(96540);let l="/Program Files/DX-Ball/dx-ball.sav",o=["DXBall","audioName","i","source","game","soundon","saveron","myFonts","font","animframe","color","FontList","lFile","canvas","ctx","file","c","descender","_0x56c3xc","temp","cl","user","paus","paused","naudio","nflash","audio","balls","bricks","bullets","bang","flash","records","lightning","shadow","chcur","highscore","saver","y","x","mouse","paddle","bonus","requestAnimFrame","curX","j","height","xp","yp","_0x56c3x8","vm"];var d=t(25559),c=t(99204),u=t(48060),w=t(37e3),f=t(81005);let h=({id:e,setLoading:n})=>{let{readFile:t,writeFile:a,updateFolder:r}=(0,d.f)(),{processes:{[e]:h}}=(0,c.N)(),{closing:b,libs:m=[]}=h||{},p=(0,i.useRef)(""),g=(0,i.useRef)(!0);(0,i.useEffect)(()=>{t(l).then(e=>{p.current=e.toString()}).catch(()=>{p.current=""})},[t]),(0,i.useEffect)(()=>{g.current&&(g.current=!1,(0,w.aY)(m,void 0,!0).then(()=>{window.DXBall?.init(()=>n(!1),(e,n)=>(p.current=`${p.current?`${p.current}\r`:""}#&${n}&${e}`.split("\r").map(e=>e.split("&")).sort(([,e],[,n])=>Number(n)-Number(e)).map(([,e,n],t)=>`${t}&${e}&${n}`).join("\r"),a(l,p.current,!0),r(s.dirname(l),s.basename(l)),`${p.current}\r`))}))},[m,n,r,a]),(0,i.useEffect)(()=>()=>{!g.current&&b&&(window.DXBall.close(),setTimeout(()=>(0,f.v)(o),u.UW.WINDOW))},[b])};var b=t(14153);let m=({id:e})=>(0,a.jsx)(b.A,{StyledComponent:r,id:e,useHook:h,children:(0,a.jsx)("canvas",{id:"dx-ball",onContextMenuCapture:w.CH})})},14153:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(74848),r=t(96540),s=t(33540),i=t(51583),l=t(8218),o=t(99204);let d=s.Ay.div.withConfig({componentId:"sc-5da8521e-0"})([""]),c=(0,r.memo)(({id:e,useHook:n,StyledComponent:t,children:s})=>{let{processes:{[e]:{url:c=""}={}}}=(0,o.N)(),u=(0,r.useRef)(null),[w,f]=(0,r.useState)(!0),h=(0,r.useMemo)(()=>({contain:"strict",visibility:w?"hidden":"visible"}),[w]);return n({containerRef:u,id:e,loading:w,setLoading:f,url:c}),(0,a.jsxs)(a.Fragment,{children:[w&&(0,a.jsx)(i.default,{}),(0,a.jsx)(t||d,{ref:u,style:h,...(0,l.A)({id:e}),children:s})]})})},51583:(e,n,t)=>{t.r(n),t.d(n,{default:()=>a});let a=t(33540).Ay.div.withConfig({componentId:"sc-29e5eb62-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}'])},8218:(e,n,t)=>{t.d(n,{A:()=>h});var a=t(16286),r=t(96540),s=t(51780),i=t(16091),l=t(13296),o=t(25559),d=t(99204),c=t(45694),u=t(48060),w=t(37e3),f=t(63461);let h=({callback:e,directory:n=u.Bn,id:t,onDragLeave:h,onDragOver:b,updatePositions:m})=>{let{url:p}=(0,d.N)(),g=(0,f.w)(),{iconPositions:v,sortOrders:x,setIconPositions:y}=(0,c.w)(),{exists:G,mkdirRecursive:$,updateFolder:j,writeFile:A}=(0,o.f)(),C=(0,r.useCallback)(async(e,n,r)=>{if(t){if(n){let s=(0,a.join)(u.Bn,e);if(await $(u.Bn),await A(s,n,!0))return r===l.z.UPDATE_URL&&p(t,s),j(u.Bn,e),(0,a.basename)(s)}else r===l.z.UPDATE_URL&&p(t,e)}return""},[t,$,j,p,A]),{openTransferDialog:E}=(0,s.A)();return{onDragLeave:h,onDragOver:(0,r.useCallback)(e=>{b?.(e),(0,w.CH)(e)},[b]),onDrop:(0,r.useCallback)(r=>{if(u.jj.has((0,w.uQ)(n)))return;if(m&&r.target instanceof HTMLElement){let{files:e,text:t}=(0,i.bn)(r);if(0===e.length&&""===t)return;(async()=>{let s={x:r.clientX,y:r.clientY},i=[];if(t){try{i=JSON.parse(t)}catch{}if(!Array.isArray(i))return;let[e]=i;if(!e||e.startsWith(n)&&(0,a.basename)(e)===(0,a.relative)(n,e))return;i=i.map(e=>(0,a.basename)(e))}else e instanceof FileList?i=[...e].map(e=>e.name):i=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);i=await Promise.all(i.map(async e=>{let t=`${n}/${e}`;if(!v[t]||!await G(t))return e;let r=0;do r+=1,t=`${n}/${(0,a.basename)(e,(0,a.extname)(e))} (${r})${(0,a.extname)(e)}`;while(v[t]&&await G(t));return(0,a.basename)(t)})),(0,w.$Y)(n,r.target,v,x,s,i,y,G)})()}let s="string"==typeof t;s&&!m&&n===u.Bn&&g.current[t]?.componentWindow?.focus(u.VD),(0,i.nX)(r,e||C,n,E,s)},[e,n,G,v,t,E,g,y,x,m,C])}}},81005:(e,n,t)=>{t.d(n,{$:()=>i,v:()=>s});let a="DEFAULT",r="__setter__",s=e=>e.forEach(e=>{if(e in window)try{delete window[e]}finally{Object.assign(window,{[e]:void 0})}}),i=(e,n,t)=>{if(setTimeout(()=>{window.sharedGlobals&&e in window.sharedGlobals&&(window.sharedGlobals[e][r]=a)},t),window.sharedGlobals=window.sharedGlobals||{},e in window.sharedGlobals)window.sharedGlobals[e][r]=n;else{let t=window[e];window.sharedGlobals[e]={[a]:t,[r]:n},Object.defineProperty(window,e,{get(){if(window.sharedGlobals&&e in window.sharedGlobals){let{stack:n=""}=Error(),t=Object.keys(window.sharedGlobals[e]).filter(e=>![a,r].includes(e)).find(e=>new RegExp(e).test(n));return window.sharedGlobals[e][t||a]}return t},set(n){window.sharedGlobals&&e in window.sharedGlobals&&(window.sharedGlobals[e][window.sharedGlobals[e][r]]=n)}})}}}}]);