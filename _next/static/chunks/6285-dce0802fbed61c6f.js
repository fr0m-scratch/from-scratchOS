"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6285],{16093:(e,t,n)=>{n.r(t),n.d(t,{Back:()=>a,Down:()=>c,Forward:()=>o,GoTo:()=>s,Refresh:()=>l,Search:()=>d,Up:()=>u});var r=n(74848),i=n(96540);let a=(0,i.memo)(()=>(0,r.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})})),o=(0,i.memo)(()=>(0,r.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})})),l=(0,i.memo)(()=>(0,r.jsx)("svg",{className:"refresh",viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})})),s=(0,i.memo)(()=>(0,r.jsx)("svg",{className:"go-to",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M31.906 16 17.203 30.703l-1.406-1.406L28.094 17H0v-2h28.094L15.797 2.703l1.406-1.406z"})})),c=(0,i.memo)(({flip:e})=>{let t=(0,i.useMemo)(()=>e?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0,[e]);return(0,r.jsx)("svg",{style:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})}),u=(0,i.memo)(()=>{let e=(0,i.useMemo)(()=>({marginTop:"-1px"}),[]);return(0,r.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})}),d=(0,i.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})}))},90690:(e,t,n)=>{n.d(t,{S7:()=>l,TY:()=>o,_T:()=>m,cO:()=>i,f$:()=>s,gF:()=>r,j2:()=>c,sz:()=>u,vJ:()=>a,vS:()=>d});let r={center:"center center",fill:"center center / cover",fit:"center center / contain",stretch:"center center / 100% 100%",tile:"50% 50%"},i={COASTAL_LANDSCAPE:()=>n.e(7776,"high").then(n.bind(n,87776)),HEXELLS:()=>n.e(3649,"high").then(n.bind(n,73649)),MATRIX:()=>n.e(6899,"high").then(n.bind(n,6899)),STABLE_DIFFUSION:()=>n.e(2473,"high").then(n.bind(n,24854)),VANTA:()=>n.e(9300,"high").then(n.bind(n,19300))},a={COASTAL_LANDSCAPE:()=>new Worker(n.tu(new URL(n.p+n.u(2336),n.b)),{name:"Wallpaper (Coastal Landscape)"}),HEXELLS:()=>new Worker(n.tu(new URL(n.p+n.u(5911),n.b)),{name:"Wallpaper (Hexells)"}),STABLE_DIFFUSION:()=>new Worker(n.tu(new URL(n.p+n.u(1808),n.b)),{name:"Wallpaper (Stable Diffusion)"}),VANTA:e=>new Worker(n.tu(new URL(n.p+n.u(5218),n.b)),{name:`Wallpaper (Vanta Waves)${e?` [${e}]`:""}`})},o=Object.keys(a),l=.1,s=[{id:"COASTAL_LANDSCAPE",name:"Coastal Landscape"},{id:"HEXELLS",name:"Hexells"},{id:"MATRIX 2D",name:"Matrix (2D)"},{id:"MATRIX 3D",name:"Matrix (3D)"},{id:"APOD",name:"NASA APOD",startsWith:!0},{id:"SLIDESHOW",name:"Picture Slideshow"},{id:"STABLE_DIFFUSION",name:"Stable Diffusion (beta)",requiresWebGPU:!0},{id:"VANTA",name:"Vanta Waves",startsWith:!0}],c=":scope > canvas",u=":scope > video",d=10,m="preloadWallpaper"},39971:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(74848),i=n(96540),a=n(67963),o=n(31251),l=n(48060);let s=(0,i.memo)(({baseIcon:e,icon:t,imgSize:n,isDesktop:s,isFirstImage:c,alt:u,totalSubIcons:d,view:m})=>{let p=(0,i.useMemo)(()=>{let e=![l.D7,l.N9].includes(t)&&!t.startsWith("blob:")&&!t.startsWith(l.jv)&&!t.startsWith(l.zP);return t===l.D7&&"details"===m?{displaySize:16,imgSize:48}:a.H[e?"details"===m?"detailsSub":"sub":m]},[t,m]),g=(0,i.useMemo)(()=>{if(t===l.N9)return{zIndex:3};if(e===l.$6){let e=d-1>1,t=16===n,r=c&&e?t?"matrix(0.4, 0.14, 0, 0.8, -0.5, 2)":"matrix(0.4, 0.14, 0, 0.7, -4, 2)":t?"matrix(0.5, 0.05, 0, 0.8, 3.5, 2)":"matrix(0.5, 0.05, 0, 0.7, 2, 1)";return{objectFit:"cover",transform:`${r} translateZ(0px)`,zIndex:c?2:1}}},[e,t,n,c,d]);return(0,r.jsx)(o.A,{$eager:s||t===l.D7,alt:u,src:t,style:g,...p})}),c=(0,i.memo)(({alt:e,icon:t,imgSize:n,isDesktop:a,showShortcutIcon:o,subIcons:c,view:u})=>{let d=(0,i.useMemo)(()=>o?c?.filter(e=>e!==l.D7):c,[o,c]),m=(0,i.useMemo)(()=>{let e=d?.length;return e&&"details"===u&&d[e-1]===l.N9?[]:d?.filter(e=>e!==t)||[]},[t,d,u]);return(0,r.jsx)(r.Fragment,{children:m.map((i,o)=>(0,r.jsx)(s,{alt:e,baseIcon:t,icon:i,imgSize:n,isDesktop:a,isFirstImage:0===o,totalSubIcons:m.length,view:u},i))})})},28424:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(96540),i=n(91745),a=n(25559),o=n(56431),l=n(48060),s=n(37e3);let c={icon:"",pid:"",url:""},u=(e,t=!1,n=!1,u=!0)=>{let[d,m]=(0,r.useState)(c),p=(0,r.useRef)(!1),g=e=>{m(e),p.current=!1},{fs:f,rootFs:b}=(0,a.f)();return(0,r.useEffect)(()=>{if(f&&b&&!p.current&&u&&d===c){p.current=!0;let r=t?"":(0,s.uQ)(e);r&&(!t||l.jj.has(r)||(0,o.isMountedFolder)(b.mntMap[e]))?(0,i.O6)(f,e,r,g):(0,i.qz)(f,b,e,t,n,g)}},[f,n,d,t,u,e,b]),[d,m]}},83664:(e,t,n)=>{n.d(t,{A:()=>l,z:()=>o});var r=n(74848),i=n(33540);let a=(0,i.DU)(["body{pointer-events:none;}"]),o=i.Ay.span.withConfig({componentId:"sc-aeb23c21-0"})(["background-color:",";border:",";position:absolute;z-index:2;"],({theme:e})=>e.colors.selectionHighlightBackground,({theme:e})=>`1px solid ${e.colors.selectionHighlight}`),l=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{}),(0,r.jsx)(o,{...e})]})},46285:(e,t,n)=>{let r,i;n.d(t,{A:()=>e$});var a=n(74848),o=n(16286),l=n(96540),s=n(14953),c=n.n(s);let u=["name","date","type","size"],d={date:{name:"Date modified",width:133},name:{name:"Name",width:133},size:{name:"Size",width:70},type:{name:"Type",width:80}};var m=n(33540),p=n(64045);let g=m.Ay.div.withConfig({componentId:"sc-7da9b175-0"})(["display:flex;font-size:12px;height:",";margin-left:2px;place-items:center;div{color:rgb(222,222,222);overflow:hidden;padding-right:","px;text-overflow:ellipsis;white-space:nowrap;&:last-child{margin-right:-","px;padding-right:","px;text-align:right;}}"],({theme:e})=>e.sizes.fileManager.detailsRowHeight,({theme:e})=>e.sizes.fileManager.detailsEndPadding,({theme:e})=>e.sizes.fileManager.detailsEndPadding/2,({theme:e})=>e.sizes.fileManager.detailsEndPadding-4);var f=n(91745),b=n(85845),h=n(25559),w=n(37e3);let v=(0,l.memo)(({columns:e,isDirectory:t,path:n,stats:r})=>{let{stat:i}=(0,h.f)(),{formats:o}=(0,m.DP)(),s=(0,l.useCallback)(async()=>{let e=r.size===b.df?await i(n):r;return{date:(0,f.y8)(n,e,o.dateModified),size:t?"":(0,w.ET)(e.size,!0),type:t?"File folder":(0,f.ti)((0,w.uQ)(n))}},[o.dateModified,t,n,i,r]),[c,u]=(0,l.useState)(),d=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{c||d.current||(d.current=!0,s().then(e=>{u(e),d.current=!1}))},[c,s]),(0,a.jsxs)(g,{children:[(0,a.jsx)("div",{style:{width:e?.date.width},children:c?.date}),(0,a.jsx)("div",{style:{width:e?.type.width},children:c?.type}),(0,a.jsx)("div",{style:{width:e?.size.width},children:c?.size})]})}),x=m.Ay.figure.withConfig({componentId:"sc-5e52ee6b-0"})(["pointer-events:",";figcaption{pointer-events:none;}"],({$renaming:e})=>e?"all":void 0);var y=n(39971),A=n(99204),k=n(25573),E=n(45694),S=n(63461),M=n(48060);let j=(e,t)=>{let{setForegroundId:r,updateRecentFiles:i}=(0,E.w)(),{createPath:a,updateFolder:s}=(0,h.f)(),{minimize:c,open:u,url:d}=(0,A.N)(),m=(0,S.w)();return(0,l.useCallback)(async(l,p)=>{let{preferProcessIcon:g,singleton:f,icon:b}=k.A[l]||{},h=f?Object.keys(m.current).find(e=>e===l||e.startsWith(`${l}${M.QB}`)):"",v=e;if(e.startsWith("ipfs://")){let{getIpfsFileName:t,getIpfsResource:r}=await n.e(1451,"high").then(n.bind(n,1451)),i=await r(e);v=(0,o.join)(M.Bn,await a(await t(e,i),M.Bn,i)),s(M.Bn,(0,o.basename)(v))}if(h)d(h,v),m.current[h].minimized&&c(h),r(h);else{u(l||"OpenWith",{url:v},f||p===M.$6||g?b:p);let e=v||t;e&&l&&i(e,l,(0,w.t$)(e)?(0,o.basename)(t,(0,o.extname)(t)):void 0)}},[a,c,u,t,m,r,d,s,i,e])},z=new Set([".001",".7z",".ace",".apk",".appx",".arj",".bz2",".bzip2",".cab",".chm",".chw",".cpio",".deb",".dll",".dmg",".doc",".docx",".epub",".esd",".exe",".flv",".gz",".gzip",".hfs",".hxs",".img",".ipa",".jar",".lha",".lit",".lzh",".lzma",".mbr",".msi",".ntfs",".ods",".odt",".ova",".pages",".pkg",".ppt",".qcow",".qcow2",".r00",".rar",".rpm",".squashfs",".swf",".swm",".sys",".tar",".taz",".tgz",".txz",".udf",".vdi",".vhd",".vhdx",".vmdk",".wim",".xar",".xip",".xls",".xlsx",".xpi",".xz",".z",".zipx"]);var C=n(97279),D=n(56431),$=n(78744);let L=new Set([".aac",".aiff",".ape",".flac",".m4a",".mp3",".oga",".ogg",".wav",".wma"]),T=[".aac",".mp3",".ogg",".wav"],R=new Set([".avi",".flv",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".ogv",".webm",".wmv"]),F=[".avi",".gif",".mkv",".mp4",".ogg",".ogv",".webm"],H=new Set([".bmp",".gif",".ico",".jpeg",".jpg",".png",".psd",".tiff",".xcf"]),O=[".bmp",".gif",".jpg",".png",".psd",".svg",".tiff"];var W=n(58991),B=n(15289),P=n(59554),N=n(10581),I=n(48287).Buffer;let{alias:U}=M.sx,G=(e,t,r,i,{archiveFiles:a,deleteLocalPath:s,downloadFiles:c,extractFiles:u,newShortcut:d},{blurEntry:m,focusEntry:p},g,b,v,x)=>{let{minimize:y,open:G,url:q}=(0,A.N)(),V=(0,S.w)(),{aiEnabled:Q,setCursor:K,setForegroundId:X,setWallpaper:Y,updateRecentFiles:_}=(0,E.w)(),J=(0,o.basename)(r),Z=g.includes(J),ee=j(e,r),{copyEntries:et,createPath:en,lstat:er,mapFs:ei,moveEntries:ea,readFile:eo,rootFs:el,unMapFs:es,updateFolder:ec}=(0,h.f)(),{contextMenu:eu}=(0,$.b)(),ed=(0,B.i)(),{onContextMenuCapture:em,...ep}=(0,l.useMemo)(()=>eu?.(()=>{let l=w.uQ(e),{process:m=[]}=l in C.A?C.A[l]:{},p=m.filter(e=>e!==t).filter(e=>e!==t),h=1===g.length,A=()=>h||!Z?[r]:[...new Set([r,...g.map(e=>o.join(o.dirname(r),e))])],E=[],S=w.uQ(r),j=S===M.b3,$=el?.mountList.some(e=>e===r&&D.isMountedFolder(el?.mntMap[e]));if(!x&&!$){let m=f.YD(l);if(E.push({action:()=>ea(A()),label:"Cut"},{action:()=>et(A()),label:"Copy"},M.kG),(m||j||!S&&!l)&&E.push({action:()=>A().forEach(async e=>{let t=m&&!(await er(e)).isDirectory()?m:"FileExplorer";d(e,t)}),label:"Create shortcut"}),E.push({action:()=>A().forEach(e=>s(e)),label:"Delete"},{action:()=>i(J),label:"Rename"},M.kG,{action:()=>{let t=Object.keys(V.current).find(t=>t===`Properties${M.QB}${e}`);t?(V.current[t].minimized&&y(t),X(t)):G("Properties",{shortcutPath:j?r:void 0,url:j?r:e})},label:"Properties"}),r){if(r===o.join(M.Bn,M.YH)){if("function"==typeof FileSystemHandle){let e=(e,t)=>{ei(e,t).then(e=>{ec("/",e),G("FileExplorer",{url:o.join("/",e)})}).catch(()=>{})},t="showDirectoryPicker"in window,n="function"==typeof navigator.storage?.getDirectory&&!w.nr();E.unshift(...t?[{action:()=>e("/"),label:"Map directory"}]:[],...n?[{action:async()=>{try{e("/OPFS",await navigator.storage.getDirectory())}catch{}},label:"Map OPFS"}]:[],...t||n?[M.kG]:[])}}else{E.unshift(M.kG);let i=L.has(S),s=H.has(S),d=R.has(S);if(i||s||d){let e=i||d;E.unshift(M.kG,{label:"Convert to",menu:(e?i?T:F:O).filter(e=>e!==S).map(t=>{let i=t.replace(".","");return{action:async()=>{let t=await Promise.all(A().map(async e=>[e,await eo(e)])),a=e?(await n.e(1919,"high").then(n.bind(n,91919))).transcode:(await n.e(2819,"high").then(n.bind(n,2819))).convert,l=await a(t,i);await Promise.all(l.map(async([e,t])=>{let n=o.basename(e),i=o.dirname(r);ec(i,await en(n,i,t))}))},label:i.toUpperCase()}})})}M.Mk.includes(S)&&E.unshift(M.kG,{label:"Convert to",menu:M.Mk.filter(e=>e!==S).map(e=>{let t=e.replace(".","");return{action:()=>{A().forEach(async e=>{let i=`${o.dirname(e)}/${o.basename(e,o.extname(e))}.${t}`,{convertSheet:a}=await n.e(6361,"high").then(n.bind(n,66361)),l=await a(await eo(e),t),s=o.dirname(r);ec(s,await en(o.basename(i),s,I.from(l)))})},label:t.toUpperCase()}})}),".m3u"!==S&&M.hL.has(S)&&E.unshift(M.kG,{action:()=>{A().forEach(async e=>{let t=`${o.dirname(e)}/${o.basename(e,o.extname(e))}.m3u`,{createM3uPlaylist:i,tracksFromPlaylist:a}=await n.e(1823,"high").then(n.bind(n,51823)),l=i(await a((await eo(e)).toString(),w.uQ(e))),s=o.dirname(r);ec(s,await en(o.basename(t),s,I.from(l)))})},label:"Convert to M3U"});let g="FileExplorer"===t;if(h&&!g&&!w.t$(e)){let t=o.basename(e),n={text:`${t} - ${U}`,title:t,url:`${window.location.origin}?url=${e}`};try{!el?.mountList.some(e=>"/"!==e&&r.startsWith(`${e}/`))&&f.Aw(b)&&navigator.canShare?.(n)&&E.unshift({SvgIcon:W.SY,action:()=>navigator.share(n),label:"Share"})}catch{}}E.unshift({action:()=>a(A()),label:"Add to archive..."},...z.has(l)||M.jj.has(l)?[{action:()=>u(e),label:"Extract Here"},M.kG]:[],{action:()=>c(A()),label:"Download"}),j||g||M.hr.forEach(e=>{e===m||p.includes(e)||p.push(e)})}}E.unshift(M.kG)}if($&&E.push(M.kG,{action:()=>es(r,el?.mntMap[r].getName()!=="FileSystemAccess"),label:"Disconnect"}),M.PD.has(l)&&E.unshift({action:()=>{G("Paint",{url:e}),e&&_(e,"Paint")},label:"Edit"}),M.Dh.has(l)&&E.unshift({action:()=>K(e),label:"Set as mouse pointer"}),(Q||ed&&"summarizer"in window.ai)&&M.$h.has(l)){let t=t=>{window.initialAiPrompt=`${t}: ${e}`;let n=document.querySelector("main > section > footer > button.new-topic");n?n?.click():P.t(N.bK)?.click()};E.unshift(M.kG,{label:`AI (${N.aV})`,menu:[...Q||ed&&"summarizer"in window.ai?[{action:()=>t("Summarize"),label:"Summarize Text"}]:[]]})}let B=M.yH.has(l);if((B||M.O4.has(l)&&!M.Dh.has(l)&&".svg"!==l)&&E.unshift({label:"Set as background",...B?{action:()=>Y(e)}:{menu:[{action:()=>Y(e,"fill"),label:"Fill"},{action:()=>Y(e,"fit"),label:"Fit"},{action:()=>Y(e,"stretch"),label:"Stretch"},{action:()=>Y(e,"tile"),label:"Tile"},{action:()=>Y(e,"center"),label:"Center"}]}}),p.length>0&&E.unshift({label:"Open with",menu:[...p.map(e=>{let{icon:t,title:n}=k.A[e]||{};return{action:()=>{ee(e,t)},icon:t,label:n}}),M.kG,{action:()=>G("OpenWith",{url:e}),label:"Choose another app"}],primary:!t}),t){let{icon:n}=k.A[t]||{};if(j&&e&&"/"!==e&&!e.startsWith("http:")&&!e.startsWith("https:")&&!e.startsWith("nostr:")){let t=""===l||".zip"===l;E.unshift({action:()=>G("FileExplorer",{url:o.dirname(e)},""),label:`Open ${t?"folder":"file"} location`})}v&&"FileExplorer"===t&&!M.jj.has(l)&&E.unshift({action:()=>{ee(t,n)},label:"Open in new window"}),E.unshift({action:()=>{"FileExplorer"===t&&v&&!M.jj.has(l)?q(v,e):ee(t,n)},icon:n,label:"Open",primary:!0})}return E[0]===M.kG?E.slice(1):E}),[Q,a,J,q,eu,et,en,s,c,u,v,g,ed,Z,er,ei,y,ea,d,G,ee,r,t,V,eo,x,el?.mntMap,el?.mountList,K,X,i,Y,b,es,ec,_,e]);return{onContextMenuCapture:e=>{Z||(m(),p(J)),em(e)},...ep}};var q=n(28424);let V=(e,t,n,r,i)=>{if(!e)return Object.create(null);let a=Number(t),o=Number(n);return{height:`${Math.abs(a)}px`,transform:`translate(
        ${Number(r)+Math.min(o,0)}px,
        ${Number(i)+Math.min(a,0)}px)`,width:`${Math.abs(o)}px`}},Q=(e,t,n,r)=>{let{x:i=0,y:a=0,width:o=0,height:l=0}=n,s=new DOMRect(i,a,Number(o),Number(l));return!(e.left-t.left>=s.right||e.top-t.top>=s.bottom||e.right-t.left<=s.left||e.bottom-t.top+r<=s.top)};var K=n(8218),X=n(67963),Y=n(75892),_=n(87952),J=n(31251),Z=n(89612),ee=n(17261),et=n(48287).Buffer;let en=c()(()=>Promise.resolve().then(n.bind(n,16093)).then(e=>e.Down),{loadableGenerated:{webpack:()=>[16093]}}),er=c()(()=>n.e(2494,"high").then(n.bind(n,82494)),{loadableGenerated:{webpack:()=>[82494]}}),ei=(e,t,n,r,i=!1)=>{let a=e.replace(/-/g,M.Jc),{lines:o}=(0,f.AN)(a,t,n,r);if(o.length>2){let t=i||e.includes(" ")?o.slice(0,2).join(""):o[0];return`${t.slice(0,-3).trim()}...`}return a},ea=[],eo=[],el=({columns:e,fileActions:t,fileManagerId:n,fileManagerRef:r,focusedEntries:i,focusFunctions:s,hideShortcutIcon:c,isDesktop:u,isHeading:d,isLoadingFileManager:g,loadIconImmediately:k,name:E,path:S,readOnly:z,renaming:C,selectionRect:D,setRenaming:$,stats:L,hasNewFolderIcon:T,view:R})=>{let{blurEntry:F,focusEntry:H}=s,{url:O}=(0,A.N)(),W=(0,l.useRef)(null),B=(0,ee.K)(W,r,u),P=(0,l.useMemo)(()=>L.isDirectory(),[L]),[{comment:N,getIcon:I,icon:U,pid:V,subIcons:el,url:es},ec]=(0,q.A)(S,P,T,u||B),eu=j(es,S),{createPath:ed,exists:em,fs:ep,mkdirRecursive:eg,pasteList:ef,stat:eb,updateFolder:eh,writeFile:ew}=(0,h.f)(),[ev,ex]=(0,l.useState)(!1),{formats:ey,sizes:eA}=(0,m.DP)(),ek=(0,l.useMemo)(()=>"list"===R,[R]),eE=(0,l.useMemo)(()=>(0,o.basename)(S),[S]),eS=(0,l.useMemo)(()=>P?"":(0,w.uQ)(es),[P,es]),eM=(0,l.useMemo)(()=>!!es&&(0,w.t$)(es),[es]),ej=(0,l.useMemo)(()=>M.O4.has(eS)||M.yH.has(eS)||eM,[eM,eS]),ez=(0,l.useMemo)(()=>1===i.length&&i[0]===eE,[eE,i]),eC=(0,l.useMemo)(()=>(0,w.uQ)(S),[S]),eD=(0,l.useMemo)(()=>eC===M.b3,[eC]),eL=eD?es:S,eT=(0,K.A)({callback:async(e,t)=>{if(!i.includes(eE)){let n=await ed(e,eL,t);if(n)return eh(eL,n),n}return""},directory:eL}),eR=(0,l.useMemo)(()=>"FileExplorer"===V,[V]),eF=(0,l.useMemo)(()=>ei(E,eA.fileEntry.fontSize,ey.systemFont,eA.fileEntry[ek?"maxListTextDisplayWidth":"maxIconTextDisplayWidth"],!u),[ey.systemFont,u,ek,E,eA.fileEntry]),eH=(0,l.useRef)(null),eO=(0,l.useRef)(!1),eW=(0,l.useRef)(!1),eB=(0,l.useRef)(void 0),eP=(0,l.useCallback)(async()=>{if(P)return"";if(eD){if(N)return N;if(es){if(es.startsWith("http:")||es.startsWith("https:"))return decodeURIComponent(es);let e=(0,o.dirname)(es);return`Location: ${(0,o.basename)(es,(0,o.extname)(es))}${e&&"."!==e?` (${(0,o.dirname)(es)})`:""}`}return""}let e=(0,f.ti)(eC),t=L.size===b.df?await eb(S):L,{size:n}=t,r=(0,w.ET)(n),i=`Type: ${e}${"-1 bytes"===r?"":`
Size: ${r}`}`,a=(0,f.y8)(S,t,ey.dateModified);return`${i}
Date modified: ${a}`},[N,eC,ey.dateModified,P,eD,S,eb,L,es]),[eN,eI]=(0,l.useState)(),eU=(0,l.useCallback)(()=>{eR&&n&&!window.globalKeyStates?.ctrlKey&&!M.jj.has(eS)?(O(n,es),F()):eR&&ek?ex(e=>!e):eu(V,ej?void 0:U)},[F,O,n,U,ej,ek,eu,eR,V,es,eS]),eG=(0,l.useMemo)(()=>B&&void 0!==e&&"details"===R,[e,B,R]),eq=(0,l.useMemo)(()=>eG&&e?e.name.width-eA.fileManager.detailsStartPadding:0,[e,eG,eA.fileManager.detailsStartPadding]);return(0,l.useEffect)(()=>{g||!B||eO.current||(async()=>{if(U.startsWith("blob:")||U.startsWith("data:")){if(U.startsWith("data:image/jpeg;base64,"))return;eO.current=!0;let e=(0,o.join)(M.jv,`${S}${M.V9}`);if(".ico"!==eS&&!es.startsWith(M.uH)&&!es.startsWith(M._O)&&!await em(e)&&eH.current instanceof HTMLImageElement){let t=async n=>{if(eH.current instanceof HTMLImageElement){let r=()=>(eo.shift(),eo[0]?.()),i="";if(eH.current.currentSrc.startsWith("data:image/gif;base64,")||eH.current.currentSrc.startsWith("data:image/png;base64,"))i=eH.current.currentSrc;else if(eH.current.currentSrc.startsWith("blob:"))i=await (0,w.Sk)(await (await fetch(eH.current.currentSrc)).blob());else{let e,r,a;let{clientHeight:o,clientWidth:l}=eH.current,{naturalHeight:s,naturalWidth:c}=eH.current,u=c/s;u!==l/o&&(c>s?e=o/u:r=l*u);let d=await (0,w.em)();try{a=await d?.toCanvas(eH.current,{height:e,skipAutoScale:!0,style:{objectPosition:e?"top":r?"left":void 0},width:r})}catch{}a&&((0,w.b0)(a)||n)?i=a.toDataURL("image/png"):setTimeout(()=>t(!0),M.UW.WINDOW)}i&&eo.push(async()=>{let t=(0,o.dirname)(e);await eg(t);let n=et.from(i.replace(/data:.*;base64,/,""),"base64");return await ew(e,n,!0),ec(e=>({...e,icon:(0,w.Zd)(n)})),eh(t,(0,o.basename)(e)),r()}),1===eo.length&&await eo[0]()}};eH.current.complete?t():eH.current.addEventListener("load",()=>t(),M.w3)}}else if(!eD||"function"==typeof I||eM){if(eO.current||!ep)return;let e=await (0,f.$j)(ep,(0,o.join)(M.jv,`${S}${M.V9}`));e?eO.current||(eO.current=!0,ec(t=>({...t,icon:e}))):!eW.current&&W.current&&"function"==typeof I&&(eB.current=new AbortController,await I(eB.current.signal),eW.current=!eB.current.signal.aborted)}})(),!B&&eB.current&&eB.current.abort()},[em,ep,I,U,g,eD,B,eM,eg,S,ec,eh,es,eS,ew]),(0,l.useEffect)(()=>()=>{try{eB.current?.abort()}catch{}},[]),(0,l.useLayoutEffect)(()=>{if(W.current&&r.current){let e=i.includes(eE),t=ea.includes(eE),n=e||t;if(e&&t&&ea.splice(ea.indexOf(eE),1),D){let e=Q(W.current.getBoundingClientRect(),r.current.getBoundingClientRect(),D,r.current.scrollTop);e&&!n?(ea.push(eE),H(eE),W.current.focus(M.VD)):!e&&n&&F(eE)}else n&&W.current!==document.activeElement&&1===i.length&&!W.current.contains(document.activeElement)&&W.current.focus(M.VD)}},[F,r,eE,H,i,D]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_.A,{ref:W,"aria-label":E,onMouseOver:()=>eP().then(eI),title:eN,...ek&&{...M.P4,as:p.m.button},...(0,Y.A)(eU,ek),...eR&&eT,...G(es,V,S,$,t,s,i,L,n,z),children:[(0,a.jsxs)(x,{ref:(0,l.useCallback)(e=>{ek&&(0,w.Qv)()&&(0,Z.a)(e)},[ek]),$renaming:C,style:eG?{maxWidth:eq,minWidth:eq}:void 0,...d&&{"aria-level":1,role:"heading"},children:[(0,a.jsx)(J.A,{ref:eH,$eager:k,$moving:"move"===ef[S],alt:E,src:U,...X.H[R]}),(0,a.jsx)(y.A,{alt:E,icon:U,isDesktop:u,showShortcutIcon:!!(c||L.systemShortcut),subIcons:el,view:R}),C?(0,a.jsx)(er,{isDesktop:u,name:E,path:S,renameFile:(e,n)=>{t.renameFile(e,n),$("")},setRenaming:$,view:R}):(0,a.jsx)("figcaption",{children:eG||ez&&E.length!==eF.length?E:eF}),ek&&eR&&(0,a.jsx)(en,{flip:ev})]}),eG&&e&&(0,a.jsx)(v,{columns:e,isDirectory:P,path:S,stats:L})]}),ev&&(0,a.jsx)(e$,{url:es,hideFolders:!0,hideLoading:!0,hideShortcutIcons:!0,isStartMenu:!0,loadIconsImmediately:!0,readOnly:!0,skipFsWatcher:!0,skipSorting:!0})]})};var es=n(83664);let ec=(e,t,{blurEntry:n},r)=>{let[i,a]=(0,l.useState)(()=>Object.create(null)),[o,s]=(0,l.useState)(()=>Object.create(null)),{x:c,y:u}=i,{height:d,width:m}=o,p=(0,l.useRef)(0),g=(0,l.useRef)(o),f=({clientX:t,clientY:n})=>{if(p.current)return;let{scrollLeft:r=0,scrollTop:i=0}=e.current||{},{x:a=0,y:o=0}=e.current?.getBoundingClientRect()||{};s({height:n-o-(u||0)+i,width:t-a-(c||0)+r}),p.current=window.requestAnimationFrame(()=>{p.current=0})},{menu:b,setMenu:h}=(0,$.b)(),w="number"==typeof c&&"number"==typeof u,v="number"==typeof m&&"number"==typeof d&&w&&0===Object.keys(b).length,x={isSelecting:v,selectionEvents:{onMouseDown:({clientX:r,clientY:i,target:o})=>{if(o!==e.current)return;let{scrollLeft:l=0,scrollTop:c=0}=e.current,{x:u=0,y:d=0}=e.current.getBoundingClientRect();s(Object.create(null)),a({x:r-u+l,y:i-d+c}),b&&Object.keys(b).length>0&&h(Object.create(null)),t.length>0&&n()}},selectionStyling:V(v,d,m,c,u)};if(w){let t=()=>{s(Object.create(null)),a(Object.create(null))},n=e.current?.scrollHeight||0,i=e.current?.scrollWidth||0;x.selectionEvents.onMouseLeave=()=>{if(x.isSelecting){let a=t=>{if(f(t),r||!e.current)return;let a=Math.abs(Number(g.current.width))/100+1,o=Math.abs(Number(g.current.height))/100+1;e.current.scrollBy(e.current.scrollLeft+e.current.clientWidth>i?0:Math.round(t.movementX*a),e.current.scrollTop+e.current.clientHeight>n?0:Math.round(t.movementY*o))};window.addEventListener("mousemove",a),window.addEventListener("mouseup",()=>{t(),window.removeEventListener("mousemove",a)},M.w3)}},x.selectionEvents.onMouseMove=f,x.selectionEvents.onMouseUp=t}return v&&(x.selectionRect=Object.assign(Object.create(null),i,o),g.current=o),x},eu=(e,{focusEntry:t},r,i,a)=>{let[s,c]=(0,l.useState)(-1),{exists:u}=(0,h.f)(),{iconPositions:d,sortOrders:m,setIconPositions:p,setSortOrder:g}=(0,E.w)(),f=(0,l.useRef)(null),b=(0,l.useRef)(!1),v=(0,l.useRef)({x:0,y:0}),x=(0,l.useRef)(Object.create(null)),y=({clientX:e,clientY:t})=>{x.current={...x.current,x:e,y:t}},A=r.current?.parentElement?.tagName==="MAIN",k=t=>n=>{(0,w.CH)(n),a&&e.length>0?((0,w.$Y)(t,r.current,d,m,x.current,e,p,u),r.current?.removeEventListener("dragover",y)):-1!==s&&g(t,t=>{let n=t.filter(t=>!e.includes(t));return n.splice(s,0,...e),n})},S=t=>({target:n})=>{if(!a&&n instanceof HTMLLIElement){let{children:r=[]}=n.parentElement||{};c(e.includes(t)?-1:[...r].indexOf(n))}},M=(n,i,l)=>s=>{if(l||"ontouchstart"in window){(0,w.CH)(s);return}t(i);let c=e.length<=1;if(s.nativeEvent.dataTransfer?.setData("application/json",JSON.stringify(c?[o.join(n,i)]:e.map(e=>o.join(n,e)))),c&&s.nativeEvent.dataTransfer?.setData("DownloadURL",`${w.hH(i)||"application/octet-stream"}:${i}:${window.location.href}${o.join(n,i)}`),!c&&f.current){if(!b.current){b.current=!0;let e=v.current.x||v.current.y;v.current={x:e?s.nativeEvent.clientX-v.current.x:s.nativeEvent.offsetX,y:e?s.nativeEvent.clientY-v.current.y:s.nativeEvent.offsetY+5}}s.nativeEvent.dataTransfer?.setDragImage(f.current,A?v.current.x:s.nativeEvent.offsetX,A?v.current.y:s.nativeEvent.offsetY)}Object.assign(s.dataTransfer,{effectAllowed:"move"}),a&&(x.current=e.length>1?{offsetX:s.nativeEvent.offsetX,offsetY:s.nativeEvent.offsetY}:Object.create(null),r.current?.addEventListener("dragover",y,{passive:!0}))},j=(0,l.useCallback)(async()=>{if(r.current){let e=[...r.current.querySelectorAll(".focus-within")];if(e.length>1){f.current?f.current.src="":f.current=new Image;let t=await (0,w.em)();if(!t)return;try{let{UNKNOWN_ICON:i}=await n.e(9588,"high").then(n.bind(n,59588)),a=e.every(({style:e})=>e?.gridRowStart&&e?.gridColumnStart),o=await t?.toCanvas(r.current,{filter:t=>!(t instanceof HTMLSourceElement)&&e.some(e=>e.contains(t)),imagePlaceholder:i,skipAutoScale:!0}),l=a?(0,w.Aq)(o):o;f.current.src=l.toDataURL(),v.current={x:o.width-l.width,y:o.height-l.height}}catch{}}}},[r]);return(0,l.useEffect)(()=>{!i&&e.length>1?j():0===e.length&&(b.current=!1)},[e,i,j]),(e,t,n)=>({draggable:!0,onDragEnd:k(e),onDragOver:S(t),onDragStart:M(e,t,n),style:A?d[(0,o.join)(e,t)]:void 0})};var ed=n(51780),em=n(16091);let ep=(e,t,n,r,{blurEntry:i,focusEntry:a},{newPath:s,pasteToFolder:c},u,d,m,p)=>{let{copyEntries:g,deletePath:f,moveEntries:b}=(0,h.f)(),{url:v}=(0,A.N)(),{openTransferDialog:x}=(0,ed.A)(),{foregroundId:y}=(0,E.w)();return(0,l.useEffect)(()=>{let e=e=>{e.clipboardData?.files?.length&&(!y&&t===M.Bn||y===m)&&(e.stopImmediatePropagation?.(),(0,em.L3)(e.clipboardData.files,t,s).then(x))};return document.addEventListener("paste",e),()=>document.removeEventListener("paste",e)},[y,m,s,x,t]),(0,l.useCallback)(l=>s=>{if("list"===p)return;let{ctrlKey:h,key:x,target:y,shiftKey:A}=s;if(!A){if(h)switch(x.toLowerCase()){case"a":if((0,w.CH)(s),y instanceof HTMLOListElement){let[e]=y.querySelectorAll("button");e?.focus(M.VD)}Object.keys(e).forEach(e=>a(e));break;case"c":(0,w.CH)(s),g(n.map(e=>(0,o.join)(t,e)));break;case"x":(0,w.CH)(s),b(n.map(e=>(0,o.join)(t,e)));break;case"v":(0,w.CH)(s),y instanceof HTMLOListElement&&c()}else switch(x){case"F2":n.length>0&&l&&((0,w.CH)(s),r(l));break;case"F5":m&&((0,w.CH)(s),u());break;case"Delete":n.length>0&&((0,w.CH)(s),n.forEach(async e=>{let n=(0,o.join)(t,e);await f(n)&&u(void 0,n)}),i());break;case"Backspace":m&&((0,w.CH)(s),v(m,(0,o.dirname)(t)));break;case"Enter":n.length>0&&y instanceof HTMLButtonElement&&((0,w.CH)(s),(0,w.k2)(y,2));break;default:if(x.startsWith("Arrow")){if((0,w.CH)(s),!(y instanceof HTMLElement))return;let e=y;if(!(y instanceof HTMLButtonElement)&&!(e=y.querySelector("button")))return;let{x:t,y:n,height:r,width:i}=e.getBoundingClientRect(),a="ArrowUp"===x||"ArrowDown"===x?document.elementFromPoint(t,n+r/2+("ArrowUp"===x?-r:r)):document.elementFromPoint(t+i/2+("ArrowLeft"===x?-i:i),n);if(a instanceof HTMLOListElement){let t=e.closest("li");if(t instanceof HTMLLIElement){let e=[...a.children],n=e.indexOf(t);("ArrowUp"===x||"ArrowDown"===x)&&(a=e["ArrowUp"===x?0===n?e.length-1:n-1:n===e.length-1?0:n+1].querySelector("button"))}}let o=a?.closest("button"),l=o;o instanceof HTMLButtonElement&&d.current?.contains(o)||(l=e),l?.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0}))}else if(/^[\da-z]$/i.test(x)){(0,w.CH)(s);let t=Object.keys(e),r=t.indexOf(n[n.length-1]),o=x.toLowerCase(),l=x.toUpperCase(),c=[...t.slice(r),...t.slice(0,r)].find(e=>!n.includes(e)&&(e.startsWith(o)||e.startsWith(l)));c&&(i(),a(c),d.current?.querySelector(`button[aria-label='${c}']`)?.scrollIntoView())}}}},[i,v,g,f,d,e,a,n,m,b,c,r,u,t,p])},eg=e=>{let[t,n]=(0,l.useState)([]),r=(0,l.useCallback)(e=>n(e?t=>t.filter(t=>t!==e):[]),[]),i=(0,l.useCallback)(e=>n(t=>t.includes(e)?t:[...t,e]),[]),a=(0,l.useRef)(!1),o=(0,l.useCallback)(t=>{let{relatedTarget:n,target:i}=t,o=e.current===n;o&&a.current?((0,w.CH)(t),i?.focus(M.VD)):(o||e.current?.contains(n))&&n instanceof HTMLElement||r()},[r,e]),s=(0,l.useCallback)(()=>{a.current=!0,window.requestAnimationFrame(()=>{a.current=!1})},[]),c=(0,l.useRef)({x:0,y:0});return{blurEntry:r,focusEntry:i,focusableEntry:e=>{let n=t.includes(e),a=1===t.length&&t[0]===e;return{className:(0,w.$z)({"focus-within":n,"only-focused":a}),onBlurCapture:o,onFocusCapture:s,onMouseDown:({ctrlKey:t,pageX:a,pageY:o})=>{c.current={x:a,y:o},t?n?r(e):i(e):n||(r(),i(e))},onMouseUp:({ctrlKey:t,pageX:n,pageY:o,button:l})=>{let{x:s,y:u}=c.current;t||a||0!==l||s!==n||u!==o||(r(),i(e)),c.current={x:0,y:0}}}},focusedEntries:t}};var ef=n(13296),eb=n(90690),eh=n(40423),ew=n(48287).Buffer;let ev=()=>window.WebampGlobal?.store.dispatch({enabled:!1,type:"SET_MILKDROP_DESKTOP"}),ex=(e,t)=>([n,r])=>[e,n===e?!r:t],ey="video/webm",eA="video/mp4",ek=2,eE=(e,{addToFolder:t,newPath:a,pasteToFolder:s,sortByOrder:[[c,u],d]},m,p)=>{let{contextMenu:g}=(0,$.b)(),{exists:b,mapFs:v,pasteList:x={},readFile:y,rootFs:k,writeFile:j,updateFolder:z}=(0,h.f)(),{iconPositions:C,setForegroundId:L,setWallpaper:T,setIconPositions:R,sortOrders:F,updateRecentFiles:H,wallpaperImage:O}=(0,E.w)(),W=(0,l.useCallback)(e=>{if("VANTA"===e){let e=0==(ek-=1);T(`VANTA${e?" WIREFRAME":""}`),e&&(ek=2)}else ek=2,T(e)},[T]),{minimize:B,open:P}=(0,A.N)(),N=(0,l.useCallback)((t,n)=>{R(t=>Object.fromEntries(Object.entries(t).filter(([t])=>(0,o.dirname)(t)!==e))),d(""===t?([e])=>[e,n]:ex(t,n))},[R,d,e]),I=(0,l.useMemo)(()=>m&&"function"==typeof navigator?.mediaDevices?.getDisplayMedia&&(window?.MediaRecorder?.isTypeSupported(ey)||window?.MediaRecorder?.isTypeSupported(eA)),[m]),U=(0,l.useCallback)(async()=>{if(i&&r){let{active:e}=r;try{i.requestData(),r.getTracks().forEach(e=>e.stop())}catch{}if(i=void 0,r=void 0,e)return}let e=(0,w.gm)()||(0,w.nr)(),t={video:{frameRate:30},...!e&&{preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"include",systemAudio:"include"}},[a]=(r=await navigator.mediaDevices.getDisplayMedia(t)).getVideoTracks(),{height:l,width:s}=a.getSettings(),c=MediaRecorder.isTypeSupported(ey),u=`Screen Capture ${(0,w.Im)()}.${c?"webm":"mp4"}`;i=new MediaRecorder(r,{bitsPerSecond:l&&s?l*s*30:void 0,mimeType:c?ey:eA});let d=(0,o.join)(M.Bn,u),m=Date.now(),p=!1;i.start(),i.addEventListener("dataavailable",async t=>{let{data:r}=t;if(r?.size){let t=await (0,w.Z6)(r);if(await j(d,p?ew.concat([await y(d),t]):t,p),!c||e||i&&"inactive"!==i.state)z(M.Bn,u);else{let{default:e}=await n.e(1707,"high").then(n.t.bind(n,41707,23));e((0,w.vJ)(await y(d)),Date.now()-m,async e=>{await j(d,await (0,w.Z6)(e),!0),z(M.Bn,u)})}p=!0}})},[y,z,j]),G=(0,eh._)(),q=(0,S.w)(),V=(0,l.useCallback)((e,t)=>{if(t&&m){let{clientX:n,clientY:r}="TouchEvent"in window&&t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0]:t.nativeEvent;(0,w.$Y)(M.Bn,t.target,C,F,{x:n,y:r},e,R,b)}},[b,C,m,R,F]),Q=(0,l.useCallback)(async(e,t,n)=>a(e,t,"rename",e=>V([e],n)),[a,V]);return(0,l.useMemo)(()=>g?.(n=>{let{offsetX:i,offsetY:a,target:l}=n.nativeEvent;if(!m&&!p&&i>l.clientWidth)return[{action:()=>{let e=0;if(a>l.clientHeight-17)e=l.scrollHeight;else if(a>17){let t=2*17;e=Math.round(l.scrollHeight*(a-t)/(l.clientHeight-t))}l.scrollTo({behavior:"instant",top:e})},label:"Scroll Here"},M.kG,{action:()=>{l.scrollTo({behavior:"instant",top:0})},label:"Top"},{action:()=>{l.scrollTo({behavior:"instant",top:l.scrollHeight})},label:"Bottom"},M.kG,{action:()=>{l.scrollBy({behavior:"instant",top:-l.clientHeight})},label:"Page Up"},{action:()=>{l.scrollBy({behavior:"instant",top:l.clientHeight})},label:"Page Down"},M.kG,{action:()=>{l.scrollBy({behavior:"instant",top:-44})},label:"Scroll Up"},{action:()=>{l.scrollBy({behavior:"instant",top:44})},label:"Scroll Down"}];let d=[{action:()=>t().then(e=>V(e,n)),label:"Add file(s)"},...w.AQ()?[{action:()=>v(e).then(t=>{V([t],n),z(e,t),P("FileExplorer",{url:o.join(e,t)})}).catch(()=>{}),label:"Map directory"}]:[]],g=document.querySelector("main .webamp-desktop canvas")instanceof HTMLCanvasElement,h=D.getMountUrl(e,k?.mntMap||{}),y=M.jj.has(w.uQ(e))||h&&!D.isMountedFolder(k?.mntMap[h]);return[{label:"Sort by",menu:[{action:()=>N("name",!0),label:"Name",toggle:"name"===c},{action:()=>N("size",!1),label:"Size",toggle:"size"===c},{action:()=>N("type",!0),label:"Item type",toggle:"type"===c},{action:()=>N("date",!1),label:"Date modified",toggle:"date"===c},M.kG,{action:()=>N("",!0),label:"Ascending",toggle:u},{action:()=>N("",!1),label:"Descending",toggle:!u}]},{action:()=>z(e),label:"Refresh"},...m?[M.kG,{label:"Background",menu:eb.f$.filter(({requiresWebGPU:e})=>!e||G).reduce((e,t)=>[...e,{action:()=>{g&&ev?.(),W(t.id)},label:t.name||t.id,toggle:t.startsWith?O.startsWith(t.id):O===t.id}],g?[{action:ev,checked:!0,label:"Music Visualization"},M.kG]:[])},...I?[{action:U,label:r?.active?"Stop screen capture":"Capture screen"}]:[]]:[],...y?[]:[M.kG,...d,{action:()=>P("Terminal",{url:e}),label:"Open Terminal here"},M.kG,{action:()=>s(n),disabled:0===Object.keys(x).length,label:"Paste"},M.kG,{label:"New",menu:[{action:()=>Q("New folder",void 0,n),icon:M.tz,label:"Folder"},M.kG,{action:()=>Q("New Rich Text Document.whtml",ew.from(""),n),icon:f.QW(".whtml"),label:"Rich Text Document"},{action:()=>Q("New Text Document.txt",ew.from(""),n),icon:f.QW(".txt"),label:"Text Document"}]},...m?[]:[M.kG,{action:()=>{let t=Object.keys(q.current).find(t=>t===`Properties${M.QB}${e}`);t?(q.current[t].minimized&&B(t),L(t)):P("Properties",{url:e})},label:"Properties"}]],...m?[M.kG,{action:async()=>{if(!await b(M.K$)){let e=await fetch(document.location.href),t=ew.from(await e.arrayBuffer());await j(M.K$,t),z(o.dirname(M.K$),o.basename(M.K$))}P("MonacoEditor",{url:M.K$}),H(M.K$,"MonacoEditor")},label:"View page source"},{action:()=>P("DevTools",{url:"dom"}),label:"Inspect"}]:[]]}),[t,I,U,g,b,G,u,m,p,v,B,Q,P,x,s,q,k?.mntMap,L,W,c,V,z,H,N,e,O,j])},eS=m.Ay.span.withConfig({componentId:"sc-270d77d7-0"})(["background-color:rgb(32,32,32);display:block;margin-bottom:6px;margin-right:","px;position:sticky;top:0;width:fit-content;z-index:1;ol{display:flex;height:",';li{color:rgb(222,222,222);display:flex;font-size:12px;padding-left:6px;place-items:center;position:relative;> svg{fill:rgb(149,149,149);left:calc(50% - 4px);position:absolute;top:0;transition:none !important;width:7px;&[style^="transform"]{top:-1px;}}.name{overflow:hidden;position:relative;text-overflow:ellipsis;top:-1px;white-space:nowrap;}.resize{border-left:1px solid rgb(99,99,99);cursor:col-resize;height:25px;padding-left:',"px;position:absolute;right:-","px;z-index:1;}&:hover{background-color:rgb(67,67,67);.resize{border-left:none;}}&:active{background-color:rgb(131,131,131);}&:first-child{padding-left:17px;}}}"],({theme:e})=>e.sizes.fileManager.detailsStartPadding,({theme:e})=>e.sizes.fileManager.columnHeight,({theme:e})=>e.sizes.fileManager.columnResizeWidth,({theme:e})=>e.sizes.fileManager.columnResizeWidth);var eM=n(16093);let ej=(0,l.memo)(({columns:e,directory:t,files:n,setColumns:r})=>{let{sizes:i}=(0,m.DP)(),o=(0,l.useRef)(""),s=(0,l.useRef)(0),{setSortOrder:c,sortOrders:d}=(0,E.w)(),[,p="name",g]=d[t]??[];return(0,a.jsx)(eS,{children:(0,a.jsx)("ol",{children:u.map(l=>(0,a.jsxs)("li",{onPointerDownCapture:e=>{0===e.button&&(o.current="resize"===e.target.className?l:"",s.current=e.clientX)},onPointerMoveCapture:e=>{if(o.current){let t=o.current;r(n=>{if(!n?.[t])return n;let r={...n},a=r[t].width+e.clientX-s.current;return a<i.fileManager.columnMinWidth||Math.abs(s.current-e.clientX)>15||(r[t].width=a,s.current=e.clientX),r})}},onPointerUpCapture:e=>{0===e.button&&(o.current?(o.current="",s.current=0):c(t,Object.keys((0,em.w9)(t,n,l,!g)),l,!g))},style:{width:`${e[l].width}px`},children:[p===l&&(0,a.jsx)(eM.Down,{flip:g}),(0,a.jsx)("div",{className:"name",children:e[l].name}),(0,a.jsx)("span",{className:"resize"})]},e[l].name))})})}),ez=c()(()=>n.e(39,"high").then(n.bind(n,10039)),{loadableGenerated:{webpack:()=>[10039]}}),eC=c()(()=>n.e(6270,"high").then(n.bind(n,66270)),{loadableGenerated:{webpack:()=>[66270]}}),eD=c()(()=>n.e(1583,"high").then(n.bind(n,51583)),{loadableGenerated:{webpack:()=>[51583]}}),e$=(0,l.memo)(({allowMovingDraggableEntries:e,hideFolders:t,hideLoading:r,hideScrolling:i,hideShortcutIcons:s,id:c,isDesktop:u,isStartMenu:m,loadIconsImmediately:p,readOnly:g,showStatusBar:f,skipFsWatcher:b,skipSorting:v,url:x})=>{let{views:y,setViews:A}=(0,E.w)(),k=(0,l.useMemo)(()=>u?"icon":m?"list":y[x]||"icon",[u,m,x,y]),S=(0,l.useMemo)(()=>"details"===k,[k]),[j,z]=(0,l.useState)(()=>S?d:void 0),[C,D]=(0,l.useState)(x),[$,L]=(0,l.useState)(""),[T,R]=(0,l.useState)(!1),F=(0,l.useRef)(null),{focusedEntries:H,focusableEntry:O,...W}=eg(F),{fileActions:B,files:P,folderActions:N,isLoading:I,updateFiles:U}=(0,ef.A)(x,L,W,{hideFolders:t,hideLoading:r,skipFsWatcher:b,skipSorting:v}),{lstat:G,mountFs:q,rootFs:V}=(0,h.f)(),{StyledFileEntry:Q,StyledFileManager:Y}=X.o[k],{isSelecting:_,selectionRect:J,selectionStyling:Z,selectionEvents:ee}=ec(F,H,W,u),et=eu(H,W,F,_,e),en=(0,K.A)({callback:N.newPath,directory:x,updatePositions:e}),er=eE(x,N,u,m),ei=!r&&I||x!==C,ea=ep(P,x,H,L,W,N,U,F,c,k),[eo,ed]=(0,l.useState)("prompt"),em=(0,l.useRef)(!1),eb=(0,l.useRef)(!1),eh=(0,l.useMemo)(()=>""===$?ea():void 0,[ea,$]),ew=(0,l.useMemo)(()=>Object.keys(P),[P]),ev=!u&&!m&&!ei&&"list"!==k&&0===ew.length;return(0,l.useEffect)(()=>{em.current||"granted"===eo||V?.mntMap[C]?.getName()!=="FileSystemAccess"||(em.current=!0,Promise.resolve().then(n.bind(n,56431)).then(({requestPermission:e})=>e(C).then(e=>{let t="granted"===e;(!e||t)&&(ed("granted"),t&&U())}).catch(e=>{e?.message==="Permission already granted"&&ed("granted")}).finally(()=>{em.current=!1})))},[C,eo,V?.mntMap,U]),(0,l.useEffect)(()=>{!T&&M.jj.has((0,w.uQ)(x))&&(async()=>{(await G(x)).isDirectory()||R(e=>(e||q(x).then(()=>setTimeout(U,100)).catch(()=>{}),!0))})()},[G,q,T,U,x]),(0,l.useEffect)(()=>{x!==C&&(N.resetFiles(),D(x),ed("denied"))},[C,N,x]),(0,l.useEffect)(()=>{eb.current||ei||u||m||(F.current?.focus(M.VD),eb.current=!0)},[u,m,ei]),(0,l.useEffect)(()=>{z(S?d:void 0)},[S]),(0,a.jsxs)(a.Fragment,{children:[ei?(0,a.jsx)(eD,{}):(0,a.jsxs)(a.Fragment,{children:[ev&&(0,a.jsx)(eC,{}),(0,a.jsxs)(Y,{ref:F,$isEmptyFolder:ev,$scrollable:!i,onKeyDown:eh,...g?{onContextMenu:w.CH}:{$selecting:_,...en,...er,...ee},...M.W8,children:[S&&j&&(0,a.jsx)(ej,{columns:j,directory:x,files:P,setColumns:z}),_&&(0,a.jsx)(es.A,{style:Z}),ew.map(e=>(0,a.jsx)(Q,{$desktop:u,$selecting:_,$visible:!I,...!g&&et(x,e,$===e),...""===$&&{onKeyDown:ea(e)},...O(e),children:(0,a.jsx)(el,{columns:j,fileActions:B,fileManagerId:c,fileManagerRef:F,focusFunctions:W,focusedEntries:H,hasNewFolderIcon:m,hideShortcutIcon:s,isDesktop:u,isHeading:u&&P[e].systemShortcut,isLoadingFileManager:I,loadIconImmediately:p,name:(0,o.basename)(e,M.b3),path:(0,o.join)(x,e),readOnly:g,renaming:$===e,selectionRect:J,setRenaming:L,stats:P[e],view:k})},e))]})]}),f&&(0,a.jsx)(ez,{count:ei?0:ew.length,directory:x,fileDrop:en,selected:H,setView:e=>{A(t=>({...t,[x]:e})),z("details"===e?d:void 0)},view:k})]})})},8218:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(16286),i=n(96540),a=n(51780),o=n(16091),l=n(13296),s=n(25559),c=n(99204),u=n(45694),d=n(48060),m=n(37e3),p=n(63461);let g=({callback:e,directory:t=d.Bn,id:n,onDragLeave:g,onDragOver:f,updatePositions:b})=>{let{url:h}=(0,c.N)(),w=(0,p.w)(),{iconPositions:v,sortOrders:x,setIconPositions:y}=(0,u.w)(),{exists:A,mkdirRecursive:k,updateFolder:E,writeFile:S}=(0,s.f)(),M=(0,i.useCallback)(async(e,t,i)=>{if(n){if(t){let a=(0,r.join)(d.Bn,e);if(await k(d.Bn),await S(a,t,!0))return i===l.z.UPDATE_URL&&h(n,a),E(d.Bn,e),(0,r.basename)(a)}else i===l.z.UPDATE_URL&&h(n,e)}return""},[n,k,E,h,S]),{openTransferDialog:j}=(0,a.A)();return{onDragLeave:g,onDragOver:(0,i.useCallback)(e=>{f?.(e),(0,m.CH)(e)},[f]),onDrop:(0,i.useCallback)(i=>{if(d.jj.has((0,m.uQ)(t)))return;if(b&&i.target instanceof HTMLElement){let{files:e,text:n}=(0,o.bn)(i);if(0===e.length&&""===n)return;(async()=>{let a={x:i.clientX,y:i.clientY},o=[];if(n){try{o=JSON.parse(n)}catch{}if(!Array.isArray(o))return;let[e]=o;if(!e||e.startsWith(t)&&(0,r.basename)(e)===(0,r.relative)(t,e))return;o=o.map(e=>(0,r.basename)(e))}else e instanceof FileList?o=[...e].map(e=>e.name):o=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);o=await Promise.all(o.map(async e=>{let n=`${t}/${e}`;if(!v[n]||!await A(n))return e;let i=0;do i+=1,n=`${t}/${(0,r.basename)(e,(0,r.extname)(e))} (${i})${(0,r.extname)(e)}`;while(v[n]&&await A(n));return(0,r.basename)(n)})),(0,m.$Y)(t,i.target,v,x,a,o,y,A)})()}let a="string"==typeof n;a&&!b&&t===d.Bn&&w.current[n]?.componentWindow?.focus(d.VD),(0,o.nX)(i,e||M,t,j,a)},[e,t,A,v,n,j,w,y,x,b,M])}}},44260:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(33540),i=n(83664),a=n(43680);let o=r.Ay.ol.withConfig({componentId:"sc-c7a374a8-0"})(["",";contain:strict;overflow:",";pointer-events:",";scrollbar-gutter:auto;picture:not(:first-of-type){position:absolute;}","{top:0;}"],({$scrollable:e})=>e?(0,a.A)():void 0,({$isEmptyFolder:e,$scrollable:t})=>!e&&t?void 0:"hidden",({$selecting:e})=>e?"auto":void 0,i.z)},6311:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(33540),i=n(43680),a=n(48060);let o=r.Ay.ol.withConfig({componentId:"sc-af353f69-0"})(["",";contain:strict;display:grid;gap:",";grid-auto-flow:row;grid-template-columns:",";grid-template-rows:",";height:100%;overflow:",";padding:",";place-content:flex-start;pointer-events:",";main > &{grid-auto-flow:column;height:calc(100% - ","px);overflow:visible;padding-bottom:21px;}"],({$scrollable:e})=>e?(0,i.A)():void 0,({theme:e})=>`${e.sizes.fileManager.rowGap} ${e.sizes.fileManager.columnGap}`,({theme:e})=>`repeat(auto-fill, ${e.sizes.fileManager.gridEntryWidth})`,({theme:e})=>`repeat(auto-fill, ${e.sizes.fileManager.gridEntryHeight})`,({$isEmptyFolder:e,$scrollable:t})=>!e&&t?void 0:"hidden",({theme:e})=>e.sizes.fileManager.padding,({$selecting:e})=>e?"auto":void 0,a.D5)},54357:(e,t,n)=>{n.d(t,{A:()=>r});let r=n(33540).Ay.li.withConfig({componentId:"sc-14bbb1a7-0"})(["display:flex;flex-direction:column;figure{display:flex;height:36px;padding-bottom:1px;padding-left:1px;place-items:center;figcaption{color:#fff;}picture{margin-left:3px;margin-right:8px;}svg{fill:rgb(210,210,210);height:8px;margin-left:auto;margin-right:8px;pointer-events:none;width:8px;}picture,svg{transition:margin 0.25s ease-out;}&:active{figcaption{letter-spacing:-0.15px;opacity:90%;}picture{margin-left:7px;}svg{margin-right:12px;}picture,svg{transition:none;}}@media (pointer:fine){&:hover{background-color:hsla(0,0%,35%,70%);}}@media (pointer:coarse){&:active{background-color:hsla(0,0%,35%,70%);border:1px solid hsla(0,0%,45%,70%);}}}"])},2566:(e,t,n)=>{n.d(t,{A:()=>r});let r=n(33540).Ay.ol.withConfig({componentId:"sc-30ed03f7-0"})(["margin-top:7px;width:100%;picture:not(:first-of-type){position:absolute;}"])},67963:(e,t,n)=>{n.d(t,{H:()=>d,o:()=>u});var r=n(33540);let i=r.Ay.li.withConfig({componentId:"sc-76bc5e25-0"})(["margin-bottom:-1px;margin-left:","px;width:fit-content;button{display:flex;padding-left:4px;text-align:left;figure{bottom:1px;display:flex;flex-direction:row;height:",";padding-right:","px;place-items:center;position:relative;figcaption{color:",";font-size:",";overflow:hidden;overflow-wrap:anywhere;padding-left:4px;text-overflow:ellipsis;white-space:nowrap;@supports not (overflow-wrap:anywhere){word-break:break-word;}}}}&:hover{background-color:",";}&.focus-within{background-color:",";&:hover{background-color:",";}}"],({theme:e})=>e.sizes.fileManager.detailsStartPadding,({theme:e})=>e.sizes.fileManager.detailsRowHeight,({theme:e})=>e.sizes.fileManager.detailsEndPadding,({theme:e})=>e.colors.fileEntry.text,({theme:e})=>e.sizes.fileEntry.fontSize,({theme:e})=>e.colors.fileEntry.background,({theme:e})=>e.colors.fileEntry.backgroundFocused,({theme:e,$selecting:t})=>t?e.colors.fileEntry.backgroundFocused:e.colors.fileEntry.backgroundFocusedHover);var a=n(44260);let o=r.Ay.li.withConfig({componentId:"sc-1c682add-0"})(["display:",";height:min-content;outline-offset:-2px;padding:2px;button{position:relative;figure{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center;figcaption{color:",";font-size:",";line-height:1.2;margin:1px 0;overflow-wrap:anywhere;padding:2px 0;text-shadow:",";@supports not (overflow-wrap:anywhere){word-break:break-word;}}picture{height:",";width:",";&:not(:first-of-type){position:absolute;img{position:absolute;}}}}}&:hover{background-color:",";outline:",";}&.focus-within{background-color:",";outline:",";z-index:1;&.only-focused{margin-bottom:-1000px;}&:hover{background-color:",";outline:",";}}"],({$visible:e})=>e?"flex":"none",({theme:e})=>e.colors.fileEntry.text,({theme:e})=>e.sizes.fileEntry.fontSize,({$desktop:e,theme:t})=>e?t.colors.fileEntry.textShadow:void 0,({theme:e})=>e.sizes.fileEntry.iconSize,({theme:e})=>e.sizes.fileEntry.iconSize,({theme:e})=>e.colors.fileEntry.background,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.border}`:void 0,({theme:e})=>e.colors.fileEntry.backgroundFocused,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.borderFocused}`:void 0,({theme:e,$selecting:t})=>t?e.colors.fileEntry.backgroundFocused:e.colors.fileEntry.backgroundFocusedHover,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.borderFocusedHover}`:void 0);var l=n(6311),s=n(54357),c=n(2566);let u={details:{StyledFileEntry:i,StyledFileManager:a.A},icon:{StyledFileEntry:o,StyledFileManager:l.A},list:{StyledFileEntry:s.A,StyledFileManager:c.A}},d={details:{imgSize:16},detailsSub:{displaySize:8,imgSize:16},icon:{imgSize:48},list:{displaySize:24,imgSize:48},sub:{displaySize:48,imgSize:16}}},10581:(e,t,n)=>{n.d(t,{K1:()=>r,Qq:()=>l,aE:()=>o,aV:()=>i,bK:()=>a,tT:()=>s});let r="Talos",i="alpha",a=`${r} (${i})`,o="balanced",l=()=>new Worker(n.tu(new URL(n.p+n.u(61),n.b)),{name:"AI"}),s="ai-chat-window"},67488:(e,t,n)=>{n.d(t,{BN:()=>a,Q2:()=>o,r5:()=>i});var r=n(48060);let i="Start",a="Type here to search",o=({relatedTarget:e},t,n,i,a,o=!1)=>{if(!(e&&t?.contains(e))){let l=t?.nextSibling,s=e===l,c=e?.parentElement===l,u=e?.title===a;e&&(o&&s||!s&&(!c||!u))?n(!1):(i||t)?.focus(r.VD)}}},6191:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(96540),i=n(59091),a=n(99204),o=n(45694),l=n(63461),s=n(48060);let c=e=>{let t=(0,i.A)(e),{setForegroundId:n,removeFromStack:c}=(0,o.w)(),{closeWithTransition:u,maximize:d,minimize:m}=(0,a.N)(),p=(0,l.w)(),g=(0,r.useCallback)(r=>{m(e),r||n(t)},[e,m,t,n]),f=(0,r.useCallback)(()=>{let t=()=>{d(e),n(e),p.current[e]?.componentWindow?.focus(s.VD)},[r]=p.current[e]?.componentWindow?.getAnimations()||[];r?.finished?r.finished.then(t):t()},[e,d,p,n]);return{onClose:(0,r.useCallback)(()=>{c(e),u(e),n(t)},[u,e,t,c,n]),onMaximize:f,onMinimize:g}}},59091:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(99204),i=n(45694);let a=e=>{let{stackOrder:t=[]}=(0,i.w)(),{processes:n}=(0,r.N)();return t.find(t=>t!==e&&!n?.[t]?.minimized)||""}},75892:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(96540),i=n(48060);let a=(e,t=!1)=>{let n=(0,r.useRef)(0),a=(0,r.useRef)(0);return{onClick:(0,r.useCallback)(r=>{let o=()=>{r.stopPropagation(),e(r)},l=()=>{n.current&&(clearTimeout(n.current),n.current=0)},s=()=>{a.current>=12&&l(),0===n.current?(r.target.removeEventListener("pointermove",s),a.current=0):a.current+=1};t?o():0===n.current?(n.current=window.setTimeout(l,i.UW.DOUBLE_CLICK),r.target.addEventListener("pointermove",s,{passive:!0})):(l(),o())},[e,t])}}},59554:(e,t,n)=>{n.d(t,{A:()=>v,t:()=>m});var r=n(96540),i=n(67488),a=n(99204),o=n(45694),l=n(49589),s=n(63461),c=n(48060),u=n(37e3),d=n(6191);let m=e=>document.querySelector(`main > nav > div[title='${e}']`),p=!1,g=!1,f=!1,b=e=>((0,u.CH)(e),!!f||(f=!0,setTimeout(()=>{f=!1},c.Sq),!1)),h=new Set(["ARROWDOWN","ARROWUP","D","E","R","S","X"]),w=e=>{let{altKey:t,ctrlKey:n,shiftKey:r,metaKey:i}=e;window.globalKeyStates={altKey:t,ctrlKey:n,metaKey:i,shiftKey:r}},v=()=>{let{closeWithTransition:e,minimize:t,open:n}=(0,a.N)(),c=(0,s.w)(),{foregroundId:f,stackOrder:v}=(0,o.w)(),{fullscreenElement:x,toggleFullscreen:y}=(0,l.T)(),{onMaximize:A,onMinimize:k}=(0,d.A)(f),E=(0,r.useRef)({}),S=(0,r.useRef)({E:()=>n("FileExplorer"),ESCAPE:()=>m(i.r5)?.click(),F10:()=>n("Terminal"),F12:()=>n("DevTools"),F5:()=>window.location.reload(),R:()=>n("Run"),S:()=>m(i.BN)?.click(),X:()=>m(i.r5)?.dispatchEvent(new MouseEvent("contextmenu",{clientX:1,clientY:u.Bv()-1}))});(0,r.useEffect)(()=>{let e=e=>{w(e);let{altKey:t,ctrlKey:n,key:r,shiftKey:i}=e,a=r?.toUpperCase();a&&(i?(n||!h.has(a))&&S.current?.[a]&&!b(e)&&S.current[a]():"F11"===a?((0,u.CH)(e),y()):document.activeElement===document.body&&a.startsWith("ARROW")?document.body.querySelector("main ol li button")?.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})):n&&t&&E.current?.[a]?E.current?.[a]?.():x===document.documentElement&&("META"===a?p=!0:t&&E.current?.[a]?((0,u.CH)(e),E.current?.[a]?.()):"ESCAPE"===a?document.pointerLockElement?document.exitPointerLock():y():p&&h.has(a)&&S.current?.[a]&&!b(e)&&(g=!0,S.current[a]())))},t=e=>{w(e),p&&x===document.documentElement&&e.key?.toUpperCase()==="META"&&(p=!1,g?g=!1:m(i.r5)?.click())};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0,passive:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}},[x,y]),(0,r.useEffect)(()=>{E.current={...E.current,F4:()=>e(f)}},[e,f]),(0,r.useEffect)(()=>{S.current={...S.current,ARROWDOWN:()=>{let{hideMinimizeButton:e=!1,maximized:t,minimized:n}=c.current[f]||{};t?A():n||e||k(!0)},ARROWUP:()=>{let{allowResizing:e=!0,hideMaximizeButton:t=!1,maximized:n,minimized:r}=c.current[f]||{};r?k(!0):n||!e||t||A()},D:()=>(0,u.UH)(c.current,v,t)}},[f,t,A,k,c,v])}},17261:(e,t,n)=>{n.d(t,{K:()=>a});var r=n(96540),i=n(48060);let a=(e,t,n=!1)=>{let a=(0,r.useRef)(!1),[o,l]=(0,r.useState)(n);return(0,r.useEffect)(()=>{n||!e.current||a.current||(a.current=!0,new IntersectionObserver(e=>e.forEach(({isIntersecting:e})=>l(e)),{root:"object"==typeof t&&t.current||"string"==typeof t&&e.current.closest(t)||e.current.parentElement,...i.A8}).observe(e.current))},[n,e,t]),o}},40423:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(96540);let i=!1,a=async()=>{let e;if("undefined"==typeof navigator||!("gpu"in navigator))return!1;try{e=await navigator.gpu.requestAdapter()}catch{return!1}if(!e)return!1;let t=0x40000000>(e.limits.maxBufferSize??0)||0x40000000>(e.limits.maxStorageBufferBindingSize??0)||32768>(e.limits.maxComputeWorkgroupStorageSize??0);return t||(i=!0),!t},o=()=>{let[e,t]=(0,r.useState)(i),n=(0,r.useCallback)(async()=>{await a()&&t(!0)},[]);return(0,r.useEffect)(()=>{e||requestAnimationFrame(n)},[n,e]),e}},15289:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(96540);let i=!1,a=async()=>{if(!("ai"in window)||!("languageModel"in window.ai)||"object"!=typeof window.ai.languageModel||!("capabilities"in window.ai.languageModel)||"function"!=typeof window.ai.languageModel.capabilities)return!1;try{return i="readily"===(await window.ai.languageModel.capabilities()).available}catch{return!1}},o=()=>{let[e,t]=(0,r.useState)(i),n=(0,r.useCallback)(async()=>{await a()&&t(!0)},[]);return(0,r.useEffect)(()=>{e||requestAnimationFrame(n)},[n,e]),e}},43680:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(33540),i=n(48060);let a={dark:{active:"rgb(166, 166, 166)",blendMode:"color-burn",buttonHover:"rgb(55, 55, 55)",thumb:"rgb(77, 77, 77)",thumbHover:"rgb(122, 122, 122)",track:"rgb(23, 23, 23)"},light:{active:"rgb(96, 96, 96)",blendMode:"color-dodge",buttonHover:"rgb(218, 218, 218)",thumb:"rgb(205, 205, 205)",thumbHover:"rgb(166, 166, 166)",track:"rgb(240, 240, 240)"}},o=(e=i.Gm,t=0,n=0,o="dark")=>(0,r.AH)(["overflow:auto;scrollbar-gutter:stable;@supports not selector(::-webkit-scrollbar){scrollbar-color:"," ",";}&::-webkit-scrollbar{height:","px;width:","px;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:",";}&::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:",";}&::-webkit-scrollbar-thumb:vertical{background-clip:padding-box;background-color:",";border-left:1px solid transparent;border-right:1px solid transparent;}&::-webkit-scrollbar-thumb:horizontal{border-bottom:1px solid transparent;border-top:1px solid transparent;}&::-webkit-scrollbar-thumb:hover{background-color:",";}&::-webkit-scrollbar-thumb:active{background-color:",";}&::-webkit-scrollbar-button:single-button{background-clip:padding-box;background-color:",";background-position:center 4px;background-repeat:no-repeat;background-size:10px;border:1px solid ",";display:block;height:",";&:hover{background-color:",";}&:active{background-color:",";}}&::-webkit-scrollbar-button:single-button:vertical:decrement,&::-webkit-scrollbar-button:single-button:vertical:increment{background-position-x:",";background-position-y:",";background-size:16px;border-bottom:0;border-top:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:vertical:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:decrement,&::-webkit-scrollbar-button:single-button:horizontal:increment{background-position:center;background-size:16px;border-left:0;border-right:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:horizontal:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:decrement:active,&::-webkit-scrollbar-button:single-button:vertical:increment:active,&::-webkit-scrollbar-button:single-button:horizontal:decrement:active,&::-webkit-scrollbar-button:single-button:horizontal:increment:active{background-blend-mode:",";}"],a[o].thumb,a[o].track,e,e,a[o].track,a[o].thumb,a[o].thumb,a[o].thumbHover,a[o].active,a[o].track,a[o].track,e?`${e}px`:"initial",a[o].buttonHover,a[o].active,0===t?"center":`${t}px`,0===n?"center":`${n}px`,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKElEQVR42mOgMRgF6enp/ynSDMMUaEZgsjST5RJsikk2AKc4bcAoAADI7y5FsB5j/QAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mOgARgF6enp/0kRZ8KvGMEnyQUwjMwn0xBMzWQZQlmA0h6MAgAuqCnfdOk/ZQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPAD0ZBenr6fxge4ppHuiGEwSgAAGJiLkXUVlYDAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPADkZBenr6fxgeZoYMV82Ug1EAAPiTLkWjutmQAAAAAElFTkSuQmCC",a[o].blendMode)},89612:(e,t,n)=>{n.d(t,{a:()=>a});let r={capture:!0,passive:!0},i={capture:!1,passive:!0},a=(e,t=!1,n=1,a=!1)=>{e&&requestAnimationFrame(()=>{let o=()=>{t||(e.style.background=""),e.style.borderImage=""};if(t){let t=({clientX:i,clientY:l})=>{if(e.isConnected){let{x:t,y:r}=e.getBoundingClientRect(),o=a&&document.elementFromPoint(i,l)===e;e.style.borderImage=`radial-gradient(75px at ${i-t}px ${l-r}px, rgba(${o?"255, 255, 255, 80%":"200, 200, 200, 60%"}), transparent) 1 / ${n}px / 0 stretch`}else document.removeEventListener("mousemove",t,r),document.removeEventListener("mouseleave",o,r)};document.addEventListener("mousemove",t,r),document.addEventListener("mouseleave",o,r)}else e.addEventListener("mousemove",({offsetX:t,offsetY:r})=>{e.style.background=`radial-gradient(circle at ${t}px ${r}px, rgba(200, 200, 200, 30%), transparent)`,e.style.borderImage=`radial-gradient(75px at ${t}px ${r}px, rgba(200, 200, 200, 60%), transparent) 1 / ${n}px / 0 stretch`},i),e.addEventListener("mouseleave",o,i)})}}}]);