"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1583,4855],{34855:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(74848),r=a(33540),l=a(57725);let i=r.Ay.div.withConfig({componentId:"sc-a7c0421-0"})(["height:100%;width:100%;&.drop{",";}ruffle-player{height:100%;width:100%;}"],(0,l.A)("Drop SWF/SPL file here","#ffad33"));var s=a(16286),o=a(96540),c=a(55650),u=a(25559),f=a(99204),d=a(37e3);let p=({containerRef:e,id:t,setLoading:a,url:n})=>{let{argument:r,linkElement:l,processes:{[t]:{libs:i=[]}={}}={}}=(0,f.N)(),[p,m]=(0,o.useState)(),h=(0,o.useRef)(new EventTarget),{appendFileToTitle:w}=(0,c.A)(t),{readFile:y}=(0,u.f)(),b=(0,o.useCallback)(async()=>{e.current?.classList.remove("drop");try{await p?.load({data:await y(n)})}catch{}finally{a(!1)}w((0,s.basename)(n,(0,s.extname)(n)))},[w,e,p,y,a,n]);(0,o.useEffect)(()=>{(0,d.aY)(i).then(()=>{window.RufflePlayer&&(window.RufflePlayer.config={allowScriptAccess:!1,autoplay:"on",backgroundColor:"#000000",letterbox:"on",menu:!1,polyfills:!1,preloader:!1,unmuteOverlay:"hidden"},m(window.RufflePlayer.newest().createPlayer()),n||(e.current?.classList.add("drop"),a(!1)))})},[e,i,a,n]),(0,o.useEffect)(()=>(e.current&&p&&(e.current.append(p),l(t,"peekElement",p),r(t,"play",()=>{p.play(),h.current.dispatchEvent(new Event("play"))}),r(t,"pause",()=>{p.pause(),h.current.dispatchEvent(new Event("pause"))}),r(t,"paused",e=>(e&&(h.current.addEventListener("pause",()=>e(!0)),h.current.addEventListener("play",()=>e(!1))),!p.isPlaying))),()=>p?.remove()),[r,e,t,l,p]),(0,o.useEffect)(()=>{e.current&&p&&n&&b()},[e,b,p,n])};var m=a(14153);let h=({id:e})=>(0,n.jsx)(m.A,{StyledComponent:i,id:e,useHook:p})},14153:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(74848),r=a(96540),l=a(33540),i=a(51583),s=a(8218),o=a(99204);let c=l.Ay.div.withConfig({componentId:"sc-5da8521e-0"})([""]),u=(0,r.memo)(({id:e,useHook:t,StyledComponent:a,children:l})=>{let{processes:{[e]:{url:u=""}={}}}=(0,o.N)(),f=(0,r.useRef)(null),[d,p]=(0,r.useState)(!0),m=(0,r.useMemo)(()=>({contain:"strict",visibility:d?"hidden":"visible"}),[d]);return t({containerRef:f,id:e,loading:d,setLoading:p,url:u}),(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsx)(i.default,{}),(0,n.jsx)(a||c,{ref:f,style:m,...(0,s.A)({id:e}),children:l})]})})},51583:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let n=a(33540).Ay.div.withConfig({componentId:"sc-29e5eb62-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}'])},8218:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(16286),r=a(96540),l=a(51780),i=a(16091),s=a(13296),o=a(25559),c=a(99204),u=a(45694),f=a(48060),d=a(37e3),p=a(63461);let m=({callback:e,directory:t=f.Bn,id:a,onDragLeave:m,onDragOver:h,updatePositions:w})=>{let{url:y}=(0,c.N)(),b=(0,p.w)(),{iconPositions:v,sortOrders:g,setIconPositions:A}=(0,u.w)(),{exists:$,mkdirRecursive:E,updateFolder:x,writeFile:k}=(0,o.f)(),C=(0,r.useCallback)(async(e,t,r)=>{if(a){if(t){let l=(0,n.join)(f.Bn,e);if(await E(f.Bn),await k(l,t,!0))return r===s.z.UPDATE_URL&&y(a,l),x(f.Bn,e),(0,n.basename)(l)}else r===s.z.UPDATE_URL&&y(a,e)}return""},[a,E,x,y,k]),{openTransferDialog:L}=(0,l.A)();return{onDragLeave:m,onDragOver:(0,r.useCallback)(e=>{h?.(e),(0,d.CH)(e)},[h]),onDrop:(0,r.useCallback)(r=>{if(f.jj.has((0,d.uQ)(t)))return;if(w&&r.target instanceof HTMLElement){let{files:e,text:a}=(0,i.bn)(r);if(0===e.length&&""===a)return;(async()=>{let l={x:r.clientX,y:r.clientY},i=[];if(a){try{i=JSON.parse(a)}catch{}if(!Array.isArray(i))return;let[e]=i;if(!e||e.startsWith(t)&&(0,n.basename)(e)===(0,n.relative)(t,e))return;i=i.map(e=>(0,n.basename)(e))}else e instanceof FileList?i=[...e].map(e=>e.name):i=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);i=await Promise.all(i.map(async e=>{let a=`${t}/${e}`;if(!v[a]||!await $(a))return e;let r=0;do r+=1,a=`${t}/${(0,n.basename)(e,(0,n.extname)(e))} (${r})${(0,n.extname)(e)}`;while(v[a]&&await $(a));return(0,n.basename)(a)})),(0,d.$Y)(t,r.target,v,g,l,i,A,$)})()}let l="string"==typeof a;l&&!w&&t===f.Bn&&b.current[a]?.componentWindow?.focus(f.VD),(0,i.nX)(r,e||C,t,L,l)},[e,t,$,v,a,L,b,A,g,w,C])}}},55650:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(96540),r=a(99204),l=a(25573),i=a(48060);let s=e=>{let{title:t}=(0,r.N)(),[a]=e.split(i.QB),{title:s}=l.A[a]||{};return{appendFileToTitle:(0,n.useCallback)((a,n)=>{let r=a?` - ${a}${n?` ${i.g6}`:""}`:"";t(e,`${s}${r}`)},[e,s,t]),prependFileToTitle:(0,n.useCallback)((a,n,r)=>{let l=a?`${n?`${i.g6} `:""}${a}${r?" ":" - "}`:"";t(e,`${l}${s}`)},[e,s,t])}}},57725:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(33540);let r=(e,t)=>(0,n.AH)(["&::before{color:",';content:"','";display:flex;font-size:16px;font-weight:600;height:100%;left:0;place-content:center;place-items:center;position:absolute;top:0;width:100%;}'],t,e)}}]);